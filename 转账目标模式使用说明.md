# 转账目标模式使用说明

## 快速开始

### 在哪里设置？

1. 打开程序主界面
2. 点击 **"💰 转账配置"** 按钮
3. 在弹出的窗口中找到 **"转账目标模式"** 区域
4. 选择你想要的模式（三个单选按钮）

## 三种模式说明

### 🏠 模式1：转给管理员自己
**适合场景**：你想把多个账号的钱集中到自己的某个主账号

**举例**：
- 你有3个账号：账号A、账号B、账号C
- 选择这个模式后：
  - 账号A的钱会转给账号B或账号C
  - 账号B的钱会转给账号A或账号C
  - 账号C的钱会转给账号A或账号B
- 系统会自动避免自己转给自己

### 👥 模式2：转给管理员的收款人 ⭐ **默认推荐**
**适合场景**：多个管理员各自管理自己的账号，每个人有自己的收款账号

**举例**：
- 管理员张三配置收款人：138xxxx0001、139xxxx0002
- 管理员李四配置收款人：150xxxx0003、151xxxx0004
- 选择这个模式后：
  - 张三的所有账号只转给 138xxxx0001 或 139xxxx0002
  - 李四的所有账号只转给 150xxxx0003 或 151xxxx0004

### 🌐 模式3：转给系统配置收款人
**适合场景**：统一管理，所有账号都转给同一批收款人

**举例**：
- 在转账配置窗口下方的"收款账户"列表中添加：150xxxx0000
- 选择这个模式后：
  - 所有账号的钱都转给 150xxxx0000
  - 不管账号属于哪个管理员

## 如何选择模式？

### 场景1：我是唯一的管理员，想把钱集中到一个账号
→ 选择 **"转给管理员自己"**

### 场景2：有多个管理员，每个人管理自己的账号
→ 选择 **"转给管理员的收款人"** （默认）

### 场景3：所有账号统一转给几个固定的收款账号
→ 选择 **"转给系统配置收款人"**

## 安全机制

### 自动降级
如果当前模式找不到收款人，系统会自动降级：

- **模式1** 找不到其他账号 → 自动切换到模式3
- **模式2** 管理员没配置收款人 → 自动切换到模式3
- **模式3** 没有收款人 → 转账失败（不会乱转）

### 避免循环转账
- 系统会自动过滤掉发送人自己
- 不会出现自己转给自己的情况

## 常见问题

### ❓ 切换模式后需要重启程序吗？
**答**：不需要，切换后立即生效。

### ❓ 如何知道当前用的是哪个模式？
**答**：打开转账配置窗口，看哪个单选按钮被选中。

### ❓ 可以为不同账号设置不同模式吗？
**答**：不可以，这是全局设置，所有账号用同一个模式。

### ❓ 如果我选了"转给管理员自己"但只有一个账号怎么办？
**答**：系统会自动降级到"转给系统配置收款人"模式。

### ❓ 模式2中，如何配置管理员的收款人？
**答**：在主界面点击"👥 用户管理"，选择管理员，在右侧配置收款人列表。

## 配置示例

### 示例1：个人使用（一个管理员）

**推荐模式**：转给管理员自己

**配置步骤**：
1. 在用户管理中添加自己作为管理员
2. 把所有账号分配给自己
3. 在转账配置中选择"转给管理员自己"
4. 完成！钱会自动集中到你的某个账号

### 示例2：团队使用（多个管理员）

**推荐模式**：转给管理员的收款人

**配置步骤**：
1. 在用户管理中添加多个管理员（张三、李四、王五）
2. 每个管理员分配自己的账号
3. 每个管理员配置自己的收款人
4. 在转账配置中选择"转给管理员的收款人"
5. 完成！每个管理员的账号只转给自己的收款人

### 示例3：集中管理（统一收款）

**推荐模式**：转给系统配置收款人

**配置步骤**：
1. 在转账配置窗口下方的"收款账户"列表中添加收款账号
2. 在转账配置中选择"转给系统配置收款人"
3. 完成！所有账号都转给这些收款账号

## 测试方法

### 方法1：使用测试脚本
```bash
cd zdqd
python test_transfer_config_gui.py
```

### 方法2：直接使用
1. 打开程序
2. 点击"转账配置"
3. 切换不同模式
4. 观察确认消息

## 技术支持

如果遇到问题，请查看：
- [完整技术文档](TRANSFER_TARGET_MODE_GUIDE.md)
- [快速参考](TRANSFER_MODE_SUMMARY.md)

---

**更新日期**：2026-02-04  
**版本**：1.0
