"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var U=Object.create;var O=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var Y=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var Z=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var K=(t,i,o,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of J(i))!X.call(t,r)&&r!==o&&O(t,r,{get:()=>i[r],enumerable:!(l=G(i,r))||l.enumerable});return t};var Q=(t,i,o)=>(o=t!=null?U(Y(t)):{},K(i||!t||!t.__esModule?O(o,"default",{value:t,enumerable:!0}):o,t));var N=Z((Lt,j)=>{j.exports=Vue});var e=Q(N());function B(t){return weex.requireModule(t)}function s(t,i,...o){uni.__log__?uni.__log__(t,i,...o):console[t].apply(console,[...o,i])}var $=B("AgoraView"),ee={create(t,i){s("log","at common/agoraRtc.js:4","appid==="+t.appid),this.callMethod("create",{config:{appId:t.appid,areaCode:0,logConfig:0},appType:14},i)},enableVideo(t){this.callMethod("enableVideo",null,t)},setBeautyEffectOptions(t){this.callMethod("setBeautyEffectOptions",{enabled:!0,options:t})},setVideoEncoderConfiguration(t,i){this.callMethod("setVideoEncoderConfiguration",{config:t},i)},startPreview(t){this.callMethod("startPreview",null,t)},switchCamera(t){this.callMethod("switchCamera",null,t)},enableVirtualBackground(t,i){this.callMethod("enableVirtualBackground",{enabled:t.enabled,config:t},i)},stopPreview(t){this.callMethod("stopPreview",null,t)},setChannelProfile(t,i){this.callMethod("setChannelProfile",{profile:t},i)},setClientRole(t,i){this.callMethod("setClientRole",{role:t},i)},joinChannel(t,i){this.callMethod("joinChannel",{token:t.token,channelName:t.channelName,optionalInfo:null,optionalUid:t.uid,options:null},i)},stopAudioMixing(t){this.callMethod("stopAudioMixing",null,t)},startAudioMixing(t,i){this.callMethod("startAudioMixing",{filePath:t.filePath,loopback:t.loopback,replace:t.replace,cycle:t.cycle,startPos:t.startPos},i)},leaveChannel(t){this.callMethod("leaveChannel",null,t)},disableAudio(t){this.callMethod("disableAudio",null,t)},enableAudio(t){this.callMethod("enableAudio",null,t)},destroy(){this.callMethod("destroy",null)},callMethod(t,i,o){return new Promise((l,r)=>{$.callMethod({method:t,args:i},n=>{s("log","at common/agoraRtc.js:92",n),n&&n.code?(s("log","at common/agoraRtc.js:94","-------rtc reject--------method="+t),r(n)):(s("log","at common/agoraRtc.js:97","-------rtc resolve--------method="+t),l(n),o&&o(n))})})}},te=B("Agora-RTM-ClientModule"),W={createInstance(t,i){this.callMethod("createInstance",{appId:t.appid},i)},login(t,i){this.callMethod("login",{token:t.token,uid:t.uid},i)},join(t){this.callMethod("join",null,t)},createChannel(t,i){this.callMethod("createChannel",{channelId:t.channelId},i)},sendMessage(t,i){this.callMethod("sendMessage",{message:t.message},i)},getChannelMemberCount(t,i){this.callMethod("getChannelMemberCount",{channelIds:t.channelIds},i)},getMembers(t){this.callMethod("getMembers",null,t)},setupRemoteVideo(t){this.callMethod("setupRemoteVideo",null,t)},logout(){this.callMethod("logout",null)},release(t){this.callMethod("release",{channelId:t.channelId})},callMethod(t,i,o){return new Promise((l,r)=>{te.callMethod({method:t,args:i},n=>{if(s("log","at common/agoraRtm.js:52",n),n&&n.code)s("log","at common/agoraRtm.js:54","-------rtm reject--------method="+t),r(n);else{s("log","at common/agoraRtm.js:57","-------rtm resolve--------method="+t),l(n);let a=JSON.parse(n);o&&o(a)}})})}},ie={scene_decode(t){if(t===void 0)return{};let i=decodeURIComponent(t),o=i.split(","),l={};for(let n in o){var r=o[n].split(":");r.length>0&&r[0]&&(l[r[0]]=r[1]||null)}return l},format_date(t){return t.replace(/\-/g,"/")},format_content(t){return t.replace(/\<img/gi,'<img style="display:block; margin:0 auto; max-width:100%;" ')},urlEncode(t){var i=[];for(var o in t){var l=t[o];l.constructor==Array?l.forEach(r=>{i.push(o+"="+r)}):i.push(o+"="+l)}return i.join("&")},objForEach(t,i){Object.keys(t).forEach(o=>{i(t[o],o)})},inArray(t,i){for(var o in i)if(i[o]==t)return!0;return!1},isPositiveInteger(t){return/(^[0-9]\d*$)/.test(t)},getSceneData(t){return t.scene?this.scene_decode(t.scene):{}},isVail(t){if(!/^\d{17}(\d|x)$/i.test(t))return!1;var i=new Date,o=Number(t.substr(6,4)),l=Number(t.substr(10,2))+1,r=Number(t.substr(12,2)),n=!1;if(o<=Number(i.getFullYear())&&o>0&&l<=12&&l>0){var a=new Date(o,l-1,0);r<=a.getDate()&&r>0&&(n=!0)}if(!n)return!1;var d=0;t=t.replace(/x$/i,"a");for(var p=17;p>=0;p--)d+=Math.pow(2,p)%11*parseInt(t.charAt(17-p),11);return d%11==1},isPoneAvailable(t){var i=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;return!!i.test(t)},isTelAvailable(t){var i=/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,o=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,l=!1;return i.test(t)&&(l=!0),o.test(t)&&(l=!0),!!l},isMail(t){var i=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return!!i.test(t)},isNum(t){var i=/^[0-9]*$/;return!!i.test(t)}},oe={"load-more":{"":{display:"flex",flexDirection:"row",height:"80rpx",alignItems:"center",justifyContent:"center"}},"loading-img":{"":{height:24,width:24,marginRight:10}},"loading-text":{"":{fontSize:"28rpx",color:"#777777"}},load1:{"":{height:24,width:24}},load2:{"":{height:24,width:24,transform:"rotate(30deg)"}},load3:{"":{height:24,width:24,transform:"rotate(60deg)"}},"@FONT-FACE":[{}]},f=(t,i)=>{let o=t.__vccOpts||t;for(let[l,r]of i)o[l]=r;return o},re={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"\u4E0A\u62C9\u663E\u793A\u66F4\u591A",contentrefresh:"\u6B63\u5728\u52A0\u8F7D...",contentnomore:"\u6CA1\u6709\u66F4\u591A\u6570\u636E\u4E86"}}}},data(){return{}}};function ne(t,i,o,l,r,n){return(0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"load-more",renderWhole:!0},[o.loadingType===1&&o.showImage?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"loading-img"},[(0,e.createElementVNode)("view",{class:"load1"},[(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4)]),(0,e.createElementVNode)("view",{class:"load2"},[(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4)]),(0,e.createElementVNode)("view",{class:"load3"},[(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4),(0,e.createElementVNode)("view",{style:(0,e.normalizeStyle)({background:o.color})},null,4)])])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("u-text",{class:"loading-text",style:(0,e.normalizeStyle)({color:o.color})},(0,e.toDisplayString)(o.loadingType===0?o.contentText.contentdown:o.loadingType===1?o.contentText.contentrefresh:o.contentText.contentnomore),5)])}var E=f(re,[["render",ne],["styles",[oe]]]),se={"m-auto":{"":{marginTop:0,marginBottom:0}},pop__ui_mask:{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:1001}},pop__ui_head:{"":{borderStyle:"solid",borderColor:"#ebebeb",borderBottomWidth:"1rpx",fontSize:"28rpx",fontWeight:"700",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",textAlign:"left"}},wrap_carts:{"":{height:"650rpx"}},item:{"":{flexDirection:"row",alignItems:"center",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",position:"relative"}},gpic:{"":{marginRight:"30rpx",height:50,width:50}},ginfo:{"":{flex:1}},name:{"":{fontSize:"28rpx"}},price:{"":{color:"#ff0f33",fontSize:"28rpx",marginTop:"15rpx"}},gbtn:{"":{backgroundImage:"linear-gradient(to right, #ff540a, #ff0f33)",borderRadius:"5rpx",color:"#ffffff",fontSize:"28rpx",paddingTop:"12rpx",paddingRight:"25rpx",paddingBottom:"12rpx",paddingLeft:"25rpx"}},"product-head":{"":{flexDirection:"row"}},"product-head-btn":{"":{height:"60rpx",lineHeight:"60rpx",backgroundColor:"#ffffff",borderColor:"#f72b6c"}},"add-product-head-btn":{"":{height:"60rpx",lineHeight:"60rpx",backgroundColor:"#ffffff",borderColor:"#f72b6c"}},"add-product-list":{"":{width:"750rpx",height:"700rpx"}},"add-product-head":{"":{flexDirection:"row"}},"add-product-item":{"":{flexDirection:"row",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"add-product-picture":{"":{width:"160rpx",height:"160rpx"}},"add-product-picture-image":{"":{width:"160rpx",height:"160rpx"}},"text-ellipsis-2":{"":{height:"70rpx"}},"add-product-relation":{"":{backgroundColor:"#51a938",color:"#ffffff",borderColor:"#51a938",fontSize:12,display:"flex",alignItems:"center",borderRadius:"6rpx",width:"120rpx",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0}},"add-product-relation-hover":{"":{backgroundColor:"#abd7a2",borderColor:"#abd7a2"}},"add-product-order":{"":{position:"absolute",width:"750rpx",height:"900rpx",right:0,bottom:0,left:0,borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"#ffffff",transitionProperty:"transform",transitionDuration:200,transitionTimingFunction:"ease",transform:"translate(0, 0)"}},"add-product-order-close":{"":{transitionProperty:"transform",transitionDuration:0,transitionTimingFunction:"ease",transform:"translate(0, 100%)"}},"order-close":{"":{width:"40rpx",height:"40rpx"}},"add-order-head":{"":{backgroundColor:"#eeeeee",flexDirection:"row"}},"order-num":{"":{fontSize:28,color:"#ababab",marginBottom:"10rpx"}},"order-title":{"":{textOverflow:"ellipsis",overflow:"hidden"}},"order-money":{"":{marginTop:"20rpx"}},"@TRANSITION":{"add-product-order":{property:"transform",duration:200,timingFunction:"ease"},"add-product-order-close":{property:"transform",duration:0,timingFunction:"ease"}}},le={components:{uniLoadMore:E},data(){return{popupVisible:!1,product_active:"",total:0,open_products:!1,relationIds:[],productList:[],open_order:!1,open_addproduct:!1,no_more:!1,listData:[],page:1,list_rows:10,productIds:[],open_Order:!1,loading:!1}},props:["isCaster","roomId","shopSupplierId"],computed:{loadingType(){return this.loading?1:this.listData.length!=0&&this.no_more?2:0}},methods:{show(t){this.popupVisible=!0,this.getProduct()},getRequest(){return getApp().globalData.vueObj},getProduct(){let t=this;t.open_addproduct=!1,t.relationIds=[],uni.showLoading({title:"\u6B63\u5728\u52A0\u8F7D",mask:!0}),t.getRequest()._postBody("plus/live/roomApply/liveProduct",{shopSupplierId:t.shopSupplierId},function(i){if(uni.hideLoading(),i.data.records!=null){t.productList=i.data.records;for(let o=0;o<t.productList.length;o++)t.relationIds.push(t.productList[o].productId);t.total=i.data.total}},!1,function(){uni.hideLoading()})},addProductFunc(){this.open_addproduct=!0,this.productIds=[],this.relationIds.forEach(t=>{this.productIds.push(t)}),this.start()},start(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData(){let t=this,i=t.page,o=t.list_rows;t.loading=!0,t.getRequest()._postBody("plus/live/roomApply/productList",{pageIndex:i||1,pageSize:o},function(l){t.loading=!1,t.listData=t.listData.concat(l.data.records),t.last_page=l.data.lastPage,l.data.lastPage<=1&&(t.no_more=!0)})},loadmoreFunc(){let t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page){t.loading=!1,t.no_more=!0;return}t.getData()},isrelation(t){return this.productIds.indexOf(t.productId)!=-1},relationProduct(t){this.productIds.push(t.productId)},confirmFunc(){let t=this,i=t.productIds;if(i.length>0)for(let o=0;o<i.length;o++)t.relationIds.indexOf(i[o])!=-1&&(i.splice(o,1),o--);else{t.getProduct();return}if(i.length==0){t.getProduct();return}t.getRequest()._post("plus/live/roomApply/addProduct",{productIds:i},function(o){t.getProduct()})},setProduct(t){let i=this;uni.showLoading({title:"\u8BBE\u7F6E\u4E2D",mask:!0}),i.getRequest()._post("plus/live/room/setProduct",{roomId:i.roomId,productId:t.productId},function(o){i.product_active=t.productId,i.$emit("setProduct",t.productId),i.close()})},gotoProduct(t){let i=`/pagesProduct/product/detail/detail?productId=${t.productId}&roomId=${this.roomId}`;this.getAppId()=="10040"&&(i=`/pagesProduct/guccl/product-detail/product-detail?productId=${t.productId}&roomId=${this.roomId}`),this.getRequest().gotoPage(i)},openOrder(){this.popupVisible=!1,this.$emit("openOrder")},close(){this.open_addproduct?this.open_addproduct=!1:this.popupVisible=!1}}};function ae(t,i,o,l,r,n){let a=(0,e.resolveComponent)("button"),d=(0,e.resolveComponent)("uni-load-more");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"popup-footer",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"pop__ui_panel"},[(0,e.createElementVNode)("view",{class:"pop__ui_mask",onClick:i[0]||(i[0]=(...p)=>n.close&&n.close(...p))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[3]||(i[3]=(0,e.withModifiers)(()=>{},["stop"]))},[r.open_addproduct?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0},[(0,e.createElementVNode)("div",{class:"product-head d-b-c p20 f30"},[(0,e.createElementVNode)("u-text",{class:"ml10"},"\u5171"+(0,e.toDisplayString)(r.total)+"\u4EF6\u5546\u54C1",1),(0,e.createElementVNode)("div",{class:"d-s-c"},[(0,e.createVNode)(a,{class:"product-head-btn",onClick:(0,e.withModifiers)(n.openOrder,["stop"])},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("u-text",{class:"rose f30",style:{width:"120rpx","text-align":"center"}},"\u8BA2\u5355")]),_:1},8,["onClick"])])]),(0,e.createElementVNode)("list",{class:"add-product-list"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.productList,(p,c)=>((0,e.openBlock)(),(0,e.createElementBlock)("cell",{class:"add-product-item d-s-s",key:c},[(0,e.createElementVNode)("div",{class:"add-product-picture"},[(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-image",{class:"add-product-picture-image",src:p.productImage,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("u-text",{class:"rose f28"})]),(0,e.createElementVNode)("div",{class:"flex-1 ml20"},[(0,e.createElementVNode)("div",{class:"text-ellipsis-2"},[(0,e.createElementVNode)("u-text",{class:"f28"},(0,e.toDisplayString)(p.productName),1)]),(0,e.createElementVNode)("div",{class:"d-s-s d-r p-20-0"},[(0,e.createElementVNode)("div",{class:"d-s-s price d-r flex-1 f24"},[(0,e.createElementVNode)("u-text",{class:"f34 fb rose"},(0,e.toDisplayString)(p.productPrice),1)]),o.isCaster&&r.product_active!=p.productId?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"add-product-relation",onClick:x=>n.setProduct(p)},[(0,e.createElementVNode)("u-text",{class:"white f28"},"\u8BBE\u4E3A\u8BB2\u89E3")],8,["onClick"])):(0,e.createCommentVNode)("",!0),r.product_active==p.productId?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"add-product-relation"},[(0,e.createElementVNode)("u-text",{class:"white f28"},"\u8BB2\u89E3\u4E2D")])):(0,e.createCommentVNode)("",!0),o.isCaster?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:"add-product-relation",onClick:x=>n.gotoProduct(p)},[(0,e.createElementVNode)("u-text",{class:"white f28 m-auto"},"\u53BB\u8D2D\u4E70")],8,["onClick"]))])])]))),128))])])),r.open_addproduct?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1},[(0,e.createElementVNode)("div",{class:"add-product-head d-b-c p20 f30"},[(0,e.createElementVNode)("u-text",{class:"f30"},"\u5173\u8054\u5546\u54C1"),(0,e.createVNode)(a,{type:"default",class:"add-product-head-btn",onClick:i[1]||(i[1]=p=>n.confirmFunc(!0))},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("u-text",{class:"rose f28"},"\u786E\u8BA4")]),_:1})]),(0,e.createElementVNode)("scroll-view",{class:"add-product-list",scrollY:"true",onScrolltolower:i[2]||(i[2]=(...p)=>n.loadmoreFunc&&n.loadmoreFunc(...p))},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.listData,(p,c)=>((0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"add-product-item d-b-c",key:c},[(0,e.createElementVNode)("div",{class:"add-product-picture"},[(0,e.createElementVNode)("u-image",{class:"add-product-picture-image",src:p.productImage,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("div",{class:"ml20 flex-1"},[(0,e.createElementVNode)("div",{class:"text-ellipsis-2"},[(0,e.createElementVNode)("u-text",{class:"f30"},(0,e.toDisplayString)(p.productName),1)]),(0,e.createElementVNode)("div",{class:"d-s-s d-r p-20-0"},[(0,e.createElementVNode)("div",{class:"d-s-s price d-r flex-1 f24"},[(0,e.createElementVNode)("u-text",{class:"ml20 gray9 f28"},"\u552E\u4EF7\uFF1A"+(0,e.toDisplayString)(p.productPrice),1)]),n.isrelation(p)?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"add-product-relation",onClick:x=>n.relationProduct(p)},[(0,e.createElementVNode)("u-text",{class:"white f28"},"\u6DFB\u52A0")],8,["onClick"])),n.isrelation(p)?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"add-product-relation add-product-relation-hover"},[(0,e.createElementVNode)("u-text",{class:"white f28"},"\u5DF2\u6DFB\u52A0")])):(0,e.createCommentVNode)("",!0)])])]))),128)),r.listData.length==0&&!r.loading?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"d-c-c p30"},[(0,e.createElementVNode)("u-text",{class:"cont"},"\u4EB2\uFF0C\u6682\u65E0\u76F8\u5173\u8BB0\u5F55\u54E6")])):((0,e.openBlock)(),(0,e.createBlock)(d,{key:1,loadingType:n.loadingType},null,8,["loadingType"]))],32)])):(0,e.createCommentVNode)("",!0)])])])):(0,e.createCommentVNode)("",!0)}var de=f(le,[["render",ae],["styles",[se]]]),pe={nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},"wrapgift-body":{"":{overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"gift-head":{"":{borderColor:"rgba(255,255,255,0.3)",borderStyle:"solid",borderBottomWidth:"1rpx",flexDirection:"row",alignItems:"center",height:"100rpx"}},"gift-menu":{"":{flex:1,flexDirection:"row"}},"gm-item":{"":{color:"#999999",fontSize:"32rpx",marginLeft:"40rpx",lineHeight:"100rpx"}},"gm-item-on":{"":{color:"#ffffff",borderColor:"#ff0f33",borderStyle:"solid",borderBottomWidth:2}},"gift-coins":{"":{color:"#ffffff",fontSize:"28rpx",flexDirection:"row",alignItems:"center",paddingRight:"30rpx"}},"gc-coin":{"":{color:"#ffffff",fontSize:"25rpx"}},"gc-num":{"":{color:"#feb719",fontSize:12}},"gc-recharge":{"":{color:"#ff0f33",fontSize:12,marginLeft:"30rpx"}},wrap_giftlist:{"":{backgroundColor:"rgba(31,37,62,1)",borderTopLeftRadius:12,borderTopRightRadius:12,height:"700rpx",position:"relative"}},"gift-swiper":{"":{flex:1}},gift__cells:{"":{flexDirection:"row",flexWrap:"wrap"}},giftitem:{"":{flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"20rpx",width:"186rpx"}},"giftitem-rect":{"":{alignItems:"center",justifyContent:"center",height:"150rpx",width:"150rpx",position:"relative"}},giftimg:{"":{height:"100rpx",width:"100rpx"}},giftimg_active:{"":{height:"100rpx",width:"100rpx",transform:"scale(1.2)"}},giftname:{"":{color:"#ffffff",fontSize:"30rpx"}},giftcoin:{"":{color:"rgba(255,255,255,0.3)",fontSize:"22rpx",marginTop:2},".giftitem_active ":{marginTop:"-6rpx",marginBottom:"6rpx"}},sendbtn:{"":{width:"150rpx",height:"40rpx",backgroundColor:"#f89898",borderRadius:"20rpx",textAlign:"center",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,borderWidth:0}},btntext:{"":{fontSize:"22rpx",color:"#f89898",lineHeight:"40rpx"}},giftitem_active:{"":{flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0.3))",borderRadius:"20rpx"}}},ce={data(){return{showGiftView:!1,open_plan:!1,userInfo:{},isGift:0}},props:["giftName","giftList","roomId"],methods:{show(){this.showGiftView=!0,this.getUser()},getRequest(){return getApp().globalData.vueObj},getUser(){let t=this;t.getRequest()._get("user/index/setting",{},function(i){t.userInfo=i.data.userInfo})},chooseGift(t){this.isGift=t.giftId},sendGift(t){let i=this;s("log","at pagesLive/live/live-part/liveGift.nvue:80",t),i.getRequest()._post("plus/live/room/sendGift",{roomId:i.roomId,giftId:t.giftId},function(o){s("log","at pagesLive/live/live-part/liveGift.nvue:88",o),uni.showToast({title:o.msg}),i.userInfo.giftMoney=o.data.giftMoney,i.$emit("sendGift",t.giftId+","+o.data.giftNum)})},PlanFunc(){this.showGiftView=!1,this.$emit("openPlan")},close(){this.showGiftView=!1}}};function ue(t,i,o,l,r,n){let a=(0,e.resolveComponent)("button"),d=(0,e.resolveComponent)("swiper-item"),p=(0,e.resolveComponent)("swiper");return r.showGiftView?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...c)=>n.close&&n.close(...c))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[2]||(i[2]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("scroll-view",{class:"wrapgift-body"},[(0,e.createElementVNode)("view",{class:"wrap_giftlist"},[(0,e.createElementVNode)("view",{class:"gift-head"},[(0,e.createElementVNode)("view",{class:"gift-menu"},[(0,e.createElementVNode)("u-text",{class:"gm-item gm-item-on"},"\u793C\u7269")]),(0,e.createElementVNode)("view",{class:"gift-coins"},[(0,e.createElementVNode)("u-text",{class:"gc-coin"},(0,e.toDisplayString)(o.giftName)+"\uFF1A",1),(0,e.createElementVNode)("u-text",{class:"gc-num"},(0,e.toDisplayString)(r.userInfo.giftMoney),1),(0,e.createElementVNode)("u-text",{class:"gc-recharge",onClick:i[1]||(i[1]=(...c)=>n.PlanFunc&&n.PlanFunc(...c))},"\u5145\u503C")])]),(0,e.createVNode)(p,{class:"gift-swiper","indicator-dots":!0,duration:200,"indicator-color":"#dbdbdb","indicator-active-color":"#999"},{default:(0,e.withCtx)(()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(o.giftList,(c,x)=>((0,e.openBlock)(),(0,e.createBlock)(d,{key:x},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("view",{class:"gift__cells"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(c,(h,w)=>((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:w},[h.giftId!=r.isGift?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"giftitem",onClick:S=>n.chooseGift(h)},[(0,e.createElementVNode)("view",{class:"giftitem-rect"},[(0,e.createElementVNode)("u-image",{class:"giftimg",src:h.imageFilePath,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("u-text",{class:"giftname"},(0,e.toDisplayString)(h.giftName),1),(0,e.createElementVNode)("u-text",{class:"giftcoin"},(0,e.toDisplayString)(h.price)+(0,e.toDisplayString)(o.giftName),1)],8,["onClick"])):(0,e.createCommentVNode)("",!0),h.giftId==r.isGift?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:1,class:"giftitem"},[(0,e.createElementVNode)("view",{class:"giftitem_active"},[(0,e.createElementVNode)("view",{class:"giftitem-rect"},[(0,e.createElementVNode)("u-image",{class:"giftimg_active",src:h.imageFilePath,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("u-text",{class:"giftcoin"},(0,e.toDisplayString)(h.price)+(0,e.toDisplayString)(o.giftName),1),(0,e.createVNode)(a,{class:"sendbtn"},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("u-text",{class:"btntext",onClick:(0,e.withModifiers)(S=>n.sendGift(h),["stop"])},"\u53D1\u9001\u793C\u7269",8,["onClick"])]),_:2},1024)])])):(0,e.createCommentVNode)("",!0)],64))),128))])]),_:2},1024))),128))]),_:1})])])])])):(0,e.createCommentVNode)("",!0)}var ge=f(ce,[["render",ue],["styles",[pe]]]),T=["\u{1F600}","\u{1F601}","\u{1F603}","\u{1F604}","\u{1F605}","\u{1F606}","\u{1F609}","\u{1F60A}","\u{1F60B}","\u{1F60E}","\u{1F60D}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u263A","\u{1F607}","\u{1F610}","\u{1F611}","\u{1F636}","\u{1F60F}","\u{1F623}","\u{1F625}","\u{1F62E}","\u{1F62F}","\u{1F62A}","\u{1F62B}","\u{1F634}","\u{1F60C}","\u{1F61B}","\u{1F61C}","\u{1F61D}","\u{1F612}","\u{1F613}","\u{1F614}","\u{1F615}","\u{1F632}","\u{1F637}","\u{1F616}","\u{1F61E}","\u{1F61F}","\u{1F624}","\u{1F622}","\u{1F62D}","\u{1F626}","\u{1F627}","\u{1F628}","\u{1F62C}","\u{1F630}","\u{1F631}","\u{1F633}","\u{1F635}","\u{1F621}","\u{1F620}","\u{1F466}","\u{1F467}","\u{1F468}","\u{1F469}","\u{1F474}","\u{1F475}","\u{1F476}","\u{1F471}","\u{1F46E}","\u{1F472}","\u{1F473}","\u{1F477}","\u{1F478}","\u{1F482}","\u{1F385}","\u{1F470}","\u{1F47C}","\u{1F486}","\u{1F487}","\u{1F64D}","\u{1F64E}","\u{1F645}","\u{1F646}","\u{1F481}","\u{1F64B}","\u{1F647}","\u{1F64C}","\u{1F64F}","\u{1F464}","\u{1F465}","\u{1F6B6}","\u{1F3C3}","\u{1F46F}","\u{1F483}","\u{1F46B}","\u{1F46C}","\u{1F46D}","\u{1F48F}","\u{1F491}","\u{1F46A}","\u{1F4AA}","\u{1F448}","\u{1F449}","\u261D","\u{1F446}","\u{1F447}","\u270C","\u270B","\u{1F44C}","\u{1F44D}","\u{1F44E}","\u270A","\u{1F44A}","\u{1F44B}","\u{1F44F}","\u{1F450}","\u270D","\u{1F463}","\u{1F440}","\u{1F442}","\u{1F443}","\u{1F445}","\u{1F444}","\u{1F48B}","\u{1F453}","\u{1F454}","\u{1F455}","\u{1F456}","\u{1F457}","\u{1F458}","\u{1F459}","\u{1F45B}","\u{1F45C}","\u{1F45D}","\u{1F392}","\u{1F4BC}","\u{1F45E}","\u{1F45F}","\u{1F460}","\u{1F461}","\u{1F462}","\u{1F451}","\u{1F452}","\u{1F3A9}","\u{1F393}","\u{1F484}","\u{1F485}","\u{1F48D}","\u{1F302}","\u{1F4F6}","\u{1F4F3}","\u{1F4F4}","\u267B","\u{1F3E7}","\u{1F6AE}","\u{1F6B0}","\u267F","\u{1F6B9}","\u{1F6BA}","\u{1F6BB}","\u{1F6BC}","\u{1F6BE}","\u26A0","\u{1F6B8}","\u26D4","\u{1F6AB}","\u{1F6B3}","\u{1F6AD}","\u{1F6AF}","\u{1F6B1}","\u{1F6B7}","\u{1F51E}","\u{1F488}","\u{1F648}","\u{1F649}","\u{1F64A}","\u{1F435}","\u{1F412}","\u{1F436}","\u{1F415}","\u{1F429}","\u{1F43A}","\u{1F431}","\u{1F63A}","\u{1F638}","\u{1F639}","\u{1F63B}","\u{1F63C}","\u{1F63D}","\u{1F640}","\u{1F63F}","\u{1F63E}","\u{1F408}","\u{1F42F}","\u{1F405}","\u{1F406}","\u{1F434}","\u{1F40E}","\u{1F42E}","\u{1F402}","\u{1F403}","\u{1F404}","\u{1F437}","\u{1F416}","\u{1F417}","\u{1F43D}","\u{1F40F}","\u{1F411}","\u{1F410}","\u{1F42A}","\u{1F42B}","\u{1F418}","\u{1F42D}","\u{1F401}","\u{1F400}","\u{1F439}","\u{1F430}","\u{1F407}","\u{1F43B}","\u{1F428}","\u{1F43C}","\u{1F43E}","\u{1F414}","\u{1F413}","\u{1F423}","\u{1F424}","\u{1F425}","\u{1F426}","\u{1F427}","\u{1F438}","\u{1F40A}","\u{1F422}","\u{1F40D}","\u{1F432}","\u{1F409}","\u{1F433}","\u{1F40B}","\u{1F42C}","\u{1F41F}","\u{1F420}","\u{1F421}","\u{1F419}","\u{1F41A}","\u{1F40C}","\u{1F41B}","\u{1F41C}","\u{1F41D}","\u{1F41E}","\u{1F98B}","\u{1F490}","\u{1F338}","\u{1F4AE}","\u{1F339}","\u{1F33A}","\u{1F33B}","\u{1F33C}","\u{1F337}","\u{1F331}","\u{1F332}","\u{1F333}","\u{1F334}","\u{1F335}","\u{1F33E}","\u{1F33F}","\u{1F340}","\u{1F341}","\u{1F342}","\u{1F343}","\u{1F30D}","\u{1F30E}","\u{1F30F}","\u{1F310}","\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F315}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F319}","\u{1F31A}","\u{1F31B}","\u{1F31C}","\u2600","\u{1F31D}","\u{1F31E}","\u2B50","\u{1F31F}","\u{1F320}","\u2601","\u26C5","\u2614","\u26A1","\u2744","\u{1F525}","\u{1F4A7}","\u{1F30A}","\u{1F345}","\u{1F346}","\u{1F33D}","\u{1F344}","\u{1F330}","\u{1F35E}","\u{1F356}","\u{1F357}","\u{1F354}","\u{1F35F}","\u{1F355}","\u{1F373}","\u{1F372}","\u{1F371}","\u{1F358}","\u{1F359}","\u{1F35A}","\u{1F35B}","\u{1F35C}","\u{1F35D}","\u{1F360}","\u{1F362}","\u{1F363}","\u{1F364}","\u{1F365}","\u{1F361}","\u{1F366}","\u{1F367}","\u{1F368}","\u{1F369}","\u{1F36A}","\u{1F382}","\u{1F370}","\u{1F36B}","\u{1F36C}","\u{1F36D}","\u{1F36E}","\u{1F36F}","\u{1F37C}","\u2615","\u{1F375}","\u{1F376}","\u{1F377}","\u{1F378}","\u{1F379}","\u{1F37A}","\u{1F37B}","\u{1F374}","\u{1F3AA}","\u{1F3AD}","\u{1F3A8}","\u{1F3B0}","\u{1F6A3}","\u{1F6C0}","\u{1F3AB}","\u{1F3C6}","\u26BD","\u26BE","\u{1F3C0}","\u{1F3C8}","\u{1F3C9}","\u{1F3BE}","\u{1F3B1}","\u{1F3B3}","\u26F3","\u{1F3A3}","\u{1F3BD}","\u{1F3BF}","\u{1F3C2}","\u{1F3C4}","\u{1F3C7}","\u{1F3CA}","\u{1F6B4}","\u{1F6B5}","\u{1F3AF}","\u{1F3AE}","\u{1F3B2}","\u{1F3B7}","\u{1F3B8}","\u{1F3BA}","\u{1F3BB}","\u{1F3AC}","\u{1F608}","\u{1F47F}","\u{1F479}","\u{1F47A}","\u{1F480}","\u2620","\u{1F47B}","\u{1F47D}","\u{1F47E}","\u{1F4A3}","\u{1F30B}","\u{1F5FB}","\u{1F3E0}","\u{1F3E1}","\u{1F3E2}","\u{1F3E3}","\u{1F3E4}","\u{1F3E5}","\u{1F3E6}","\u{1F3E8}","\u{1F3E9}","\u{1F3EA}","\u{1F3EB}","\u{1F3EC}","\u{1F3ED}","\u{1F3EF}","\u{1F3F0}","\u{1F492}","\u{1F5FC}","\u{1F5FD}","\u26EA","\u26F2","\u{1F301}","\u{1F303}","\u{1F306}","\u{1F307}","\u{1F309}","\u{1F30C}","\u{1F3A0}","\u{1F3A1}","\u{1F3A2}","\u{1F682}","\u{1F683}","\u{1F684}","\u{1F685}","\u{1F686}","\u{1F687}","\u{1F688}","\u{1F689}","\u{1F68A}","\u{1F69D}","\u{1F69E}","\u{1F68B}","\u{1F68C}","\u{1F68D}","\u{1F68E}","\u{1F68F}","\u{1F690}","\u{1F691}","\u{1F692}","\u{1F693}","\u{1F694}","\u{1F695}","\u{1F696}","\u{1F697}","\u{1F698}","\u{1F69A}","\u{1F69B}","\u{1F69C}","\u{1F6B2}","\u26FD","\u{1F6A8}","\u{1F6A5}","\u{1F6A6}","\u{1F6A7}","\u2693","\u26F5","\u{1F6A4}","\u{1F6A2}","\u2708","\u{1F4BA}","\u{1F681}","\u{1F69F}","\u{1F6A0}","\u{1F6A1}","\u{1F680}","\u{1F391}","\u{1F5FF}","\u{1F6C2}","\u{1F6C3}","\u{1F6C4}","\u{1F6C5}","\u{1F48C}","\u{1F48E}","\u{1F52A}","\u{1F488}","\u{1F6AA}","\u{1F6BD}","\u{1F6BF}","\u{1F6C1}","\u231B","\u23F3","\u231A","\u23F0","\u{1F388}","\u{1F389}","\u{1F38A}","\u{1F38E}","\u{1F38F}","\u{1F390}","\u{1F380}","\u{1F381}","\u{1F4EF}","\u{1F4FB}","\u{1F4F1}","\u{1F4F2}","\u260E","\u{1F4DE}","\u{1F4DF}","\u{1F4E0}","\u{1F50B}","\u{1F50C}","\u{1F4BB}","\u{1F4BD}","\u{1F4BE}","\u{1F4BF}","\u{1F4C0}","\u{1F3A5}","\u{1F4FA}","\u{1F4F7}","\u{1F4F9}","\u{1F4FC}","\u{1F50D}","\u{1F50E}","\u{1F52C}","\u{1F52D}","\u{1F4E1}","\u{1F4A1}","\u{1F526}","\u{1F3EE}","\u{1F4D4}","\u{1F4D5}","\u{1F4D6}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}","\u{1F4DA}","\u{1F4D3}","\u{1F4C3}","\u{1F4DC}","\u{1F4C4}","\u{1F4F0}","\u{1F4D1}","\u{1F516}","\u{1F4B0}","\u{1F4B4}","\u{1F4B5}","\u{1F4B6}","\u{1F4B7}","\u{1F4B8}","\u{1F4B3}","\u2709","\u{1F4E7}","\u{1F4E8}","\u{1F4E9}","\u{1F4E4}","\u{1F4E5}","\u{1F4E6}","\u{1F4EB}","\u{1F4EA}","\u{1F4EC}","\u{1F4ED}","\u{1F4EE}","\u270F","\u2712\u{1F4DD}","\u{1F4C1}","\u{1F4C2}","\u{1F4C5}","\u{1F4C6}","\u{1F4C7}","\u{1F4C8}","\u{1F4C9}","\u{1F4CA}","\u{1F4CB}","\u{1F4CC}","\u{1F4CD}","\u{1F4CE}\u{1F4CF}\u{1F4D0}","\u2702","\u{1F512}","\u{1F513}","\u{1F50F}","\u{1F510}","\u{1F511}","\u{1F528}","\u{1F52B}","\u{1F527}","\u{1F529}","\u{1F517}","\u{1F489}","\u{1F48A}","\u{1F6AC}","\u{1F52E}\u{1F6A9}","\u{1F38C}","\u{1F4A6}","\u{1F4A8}","\u2660","\u2665","\u2666","\u2663","\u{1F004}","\u{1F3B4}","\u{1F507}","\u{1F508}","\u{1F509}","\u{1F50A}","\u{1F4E2}","\u{1F4E3}","\u{1F4A4}","\u{1F4A2}","\u{1F4AC}","\u{1F4AD}","\u2668","\u{1F300}","\u{1F514}","\u{1F515}","\u2721","\u271D","\u{1F52F}","\u{1F4DB}","\u{1F530}","\u{1F531}","\u2B55","\u2705","\u2611","\u2714","\u2716","\u274C","\u274E","\u2795","\u2796","\u2797","\u27B0","\u27BF","\u303D","\u2733","\u2734","\u2747","\u203C","\u2049","\u2753","\u2754","\u2755","\u2757","\xA9\xAE","\u2122\u{1F3A6}\u{1F505}","\u{1F506}","\u{1F4AF}","\u{1F520}","\u{1F521}","\u{1F522}","\u{1F523}","\u{1F524}","\u{1F170}","\u{1F18E}","\u{1F171}","\u{1F191}","\u{1F192}","\u{1F193}","\u2139\u{1F194}","\u24C2","\u{1F195}","\u{1F196}","\u{1F17E}","\u{1F197}","\u{1F17F}","\u{1F198}","\u{1F199}","\u{1F19A}","\u{1F201}","\u{1F202}","\u{1F237}","\u{1F236}","\u{1F22F}","\u{1F250}","\u{1F239}","\u{1F21A}","\u{1F232}","\u{1F251}","\u{1F238}","\u{1F234}","\u{1F233}","\u3297","\u3299","\u{1F23A}","\u{1F235}","\u25AA","\u25AB","\u25FB","\u25FC\u25FD","\u25FE","\u2B1B","\u2B1C","\u{1F536}","\u{1F537}","\u{1F538}","\u{1F539}","\u{1F53A}","\u{1F53B}","\u{1F4A0}","\u{1F532}","\u{1F533}","\u26AA","\u26AB","\u{1F534}","\u{1F535}","\u2648","\u2649","\u264A","\u264B","\u264C","\u264D","\u264E","\u264F","\u2650","\u2651","\u2652","\u2653","\u26CE","\u{1F55B}","\u{1F567}","\u{1F550}","\u{1F55C}","\u{1F551}","\u{1F55D}","\u{1F552}","\u{1F55E}","\u{1F553}","\u{1F55F}","\u{1F554}","\u{1F560}","\u{1F555}","\u{1F561}","\u{1F556}","\u{1F562}","\u{1F557}","\u{1F563}","\u{1F558}","\u{1F564}","\u{1F559}","\u{1F565}","\u{1F55A}","\u{1F566}","\u23F1","\u23F2","\u{1F570}","\u{1F498}","\u2764","\u{1F493}","\u{1F494}","\u{1F495}","\u{1F496}","\u{1F497}","\u{1F499}","\u{1F49A}","\u{1F49B}","\u{1F49C}","\u{1F49D}","\u{1F49E}","\u{1F49F}\u2763","\u{1F347}","\u{1F348}","\u{1F349}","\u{1F34A}","\u{1F34B}","\u{1F34C}","\u{1F34D}","\u{1F34E}","\u{1F34F}","\u{1F350}","\u{1F351}","\u{1F352}","\u{1F353}","\u2B06","\u2197","\u27A1","\u2198","\u2B07","\u2199","\u2B05","\u2196","\u2195","\u2194","\u21A9","\u21AA","\u2934","\u2935","\u{1F503}","\u{1F504}","\u{1F519}","\u{1F51A}","\u{1F51B}","\u{1F51C}","\u{1F51D}","\u265A","\u265B","\u265D","\u265E","\u265C","\u265F","\u2654","\u2655","\u2657","\u2658","\u2656"],fe={pop__ui_mask:{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:1001}},pop__ui_head:{"":{borderStyle:"solid",borderColor:"#ebebeb",borderBottomWidth:"1rpx",fontSize:"28rpx",fontWeight:"700",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",textAlign:"center"}},iconfont:{"":{fontFamily:"nvueIcon"},".uni__editorPanel .uni_editor_btn ":{color:"#999999",fontSize:"50rpx"},".uni__editorPanel .btn_submit ":{color:"#999999",fontSize:"48rpx"}},wrap_commentPanel:{"":{flexDirection:"column",height:"11rpx"}},uni_borT:{"":{borderColor:"#dbdbdb",borderStyle:"solid",borderTopWidth:"1rpx"}},wrap__editorPanel:{"":{flexDirection:"row",alignItems:"flex-end",backgroundColor:"#ffffff",paddingTop:"20rpx",paddingRight:"30rpx",paddingBottom:"20rpx",paddingLeft:"30rpx"}},wrap_editor:{"":{flex:1,overflow:"hidden"}},editor:{"":{fontSize:14,lineHeight:1.2},".uni_editor ":{caretColor:"#41a863",fontSize:"28rpx",maxHeight:"200rpx",maxWidth:100,lineHeight:1.2}},wrap_cmtFoot:{"":{position:"fixed",left:0,right:0,zIndex:201911}},uni_editor:{".uni__editorPanel ":{boxSizing:"border-box",overflow:"hidden"}},uni_editor_btn:{".uni__editorPanel ":{alignSelf:"flex-end",justifyContent:"center",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",height:"56rpx"}},btn_submit:{".uni__editorPanel ":{borderRadius:"40rpx",fontSize:"28rpx",marginLeft:"10rpx",paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",lineHeight:"56rpx"}},"bc-white":{"":{backgroundColor:"#ffffff"}},slider:{"":{width:"750rpx",height:"256rpx"}},"slider-emoji":{"":{width:"750rpx",direction:"ltr",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",alignItems:"stretch"}},"slider-emoji-icon":{"":{width:"105rpx",textAlign:"center",paddingTop:"21rpx",paddingRight:0,paddingBottom:"21rpx",paddingLeft:0}},lastbox:{"":{justifyContent:"flex-start"}}},he={components:{uniLoadMore:E},data(){return{popupVisible:!1,emojiShow:!1,inputBottom:0,inputheight:0,content:""}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"})},props:["emojiData"],methods:{selemoji(t){s("log","at pagesLive/live/live-part/liveMsg.nvue:70",t),this.content+=t},show(){this.popupVisible=!0},close(){this.popupVisible=!1},sendTextMsg(){uni.hideKeyboard(),this.$emit("closeMsg",this.content),this.content="",this.emojiShow=!1,this.popupVisible=!1},inputFocus(t){this.inputBottom=t.detail.height,this.emojiShow=!1,s("log","at pagesLive/live/live-part/liveMsg.nvue:90",t)},inputBlur(){this.inputBottom=0}}};function me(t,i,o,l,r,n){let a=(0,e.resolveComponent)("swiper-item"),d=(0,e.resolveComponent)("swiper");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"popup-footer",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"pop__ui_panel"},[(0,e.createElementVNode)("view",{class:"pop__ui_mask",onClick:i[0]||(i[0]=(...p)=>n.close&&n.close(...p))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[7]||(i[7]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("view",{class:"pop__ui_body"},[(0,e.createElementVNode)("view",{class:"wrap_commentPanel"},[(0,e.createElementVNode)("view",{class:"wrap_cmtFoot",style:(0,e.normalizeStyle)("bottom:"+r.inputBottom+"px;")},[(0,e.createElementVNode)("view",{class:"wrap__editorPanel uni_borT uni__editorPanel"},[(0,e.createElementVNode)("view",{class:"wrap_editor uni_editor"},[(0,e.createElementVNode)("u-input",{class:"editor",autoFocus:"true",modelValue:r.content,onInput:i[1]||(i[1]=p=>r.content=p.detail.value),adjustPosition:!1,confirmType:"send",onConfirm:i[2]||(i[2]=p=>n.sendTextMsg()),placeholder:"\u8BF4\u70B9\u4EC0\u4E48...",onFocus:i[3]||(i[3]=(...p)=>n.inputFocus&&n.inputFocus(...p)),onBlur:i[4]||(i[4]=(...p)=>n.inputBlur&&n.inputBlur(...p))},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"uni_editor_btn",onClick:i[5]||(i[5]=p=>r.emojiShow=!r.emojiShow)},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-biaoqing"})]),(0,e.createElementVNode)("view",{class:"uni_editor_btn btn_submit uni__btn-primary bg_linear2",onClick:i[6]||(i[6]=(...p)=>n.sendTextMsg&&n.sendTextMsg(...p))},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-fasong"})])]),r.emojiShow?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"bc-white"},[(0,e.createVNode)(d,{class:"slider"},{default:(0,e.withCtx)(()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(o.emojiData,(p,c)=>((0,e.openBlock)(),(0,e.createBlock)(a,{key:c,class:(0,e.normalizeClass)(["slider-emoji",[c==o.emojiData.length-1?"lastbox":""]])},{default:(0,e.withCtx)(()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(p,(x,h)=>((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:h,onClick:w=>n.selemoji(x),class:"slider-emoji-icon"},(0,e.toDisplayString)(x),9,["onClick"]))),128))]),_:2},1032,["class"]))),128))]),_:1})])):(0,e.createCommentVNode)("",!0)],4)])])])])])):(0,e.createCommentVNode)("",!0)}var ve=f(he,[["render",me],["styles",[fe]]]),P=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},z={},xe={get exports(){return z},set exports(t){z=t}};(function(t,i){(function(o){var l=i,r=t&&t.exports==l&&t,n=typeof P=="object"&&P;(n.global===n||n.window===n)&&(o=n);var a=function(u){this.message=u};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var d=function(u){throw new a(u)},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,x=function(u){u=String(u).replace(c,"");var y=u.length;y%4==0&&(u=u.replace(/==?$/,""),y=u.length),(y%4==1||/[^+a-zA-Z0-9/]/.test(u))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var _=0,b,C,I="",L=-1;++L<y;)C=p.indexOf(u.charAt(L)),b=_%4?b*64+C:C,_++%4&&(I+=String.fromCharCode(255&b>>(-2*_&6)));return I},h=function(u){u=String(u),/[^\0-\xFF]/.test(u)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var y=u.length%3,_="",b=-1,C,I,L,m,D=u.length-y;++b<D;)C=u.charCodeAt(b)<<16,I=u.charCodeAt(++b)<<8,L=u.charCodeAt(++b),m=C+I+L,_+=p.charAt(m>>18&63)+p.charAt(m>>12&63)+p.charAt(m>>6&63)+p.charAt(m&63);return y==2?(C=u.charCodeAt(b)<<8,I=u.charCodeAt(++b),m=C+I,_+=p.charAt(m>>10)+p.charAt(m>>4&63)+p.charAt(m<<2&63)+"="):y==1&&(m=u.charCodeAt(b),_+=p.charAt(m>>2)+p.charAt(m<<4&63)+"=="),_},w={encode:h,decode:x,version:"1.0.0"};if(l&&!l.nodeType)if(r)r.exports=w;else for(var S in w)w.hasOwnProperty(S)&&(l[S]=w[S]);else o.base64=w})(P)})(xe,z);var be={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},"wrapgift-body":{"":{overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:1001}},"gift-container-head":{"":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},chongzhi:{"":{height:"70rpx",lineHeight:"70rpx"}},"plan-box":{"":{backgroundColor:"#FFFFFF",borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx"}},"plan-cells":{"":{width:"750rpx",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",paddingTop:0}},"plan-cell-list":{"":{display:"flex",flexDirection:"column",width:"225rpx",marginTop:0,marginRight:"10rpx",marginBottom:"20rpx",marginLeft:"10rpx",alignItems:"center",justifyContent:"center",backgroundColor:"#efefef",paddingTop:"30rpx",paddingRight:0,paddingBottom:"30rpx",paddingLeft:0,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:"5rpx"}},"plan-list-title":{"":{display:"flex",flexDirection:"row",alignItems:"center"}},"plan-list-rmb":{"":{marginTop:"10rpx"}},"plan-box-head":{"":{display:"flex",flexDirection:"row",justifyContent:"flex-start"}},"plan-head-title":{"":{marginLeft:"200rpx",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0}},"plan-xieyi":{"":{textAlign:"center",paddingTop:"30rpx",paddingRight:0,paddingBottom:"30rpx",paddingLeft:0,display:"flex",flexDirection:"row",justifyContent:"center"}},paypop:{"":{position:"absolute",top:0,zIndex:1002,width:"750rpx",height:"600rpx",right:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},"paypop-cont":{"":{backgroundColor:"#FFFFFF",borderRadius:"16rpx",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column",width:"750rpx",paddingBottom:"20rpx"}},"paypop-list":{"":{width:"750rpx",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#f6f6f6",boxSizing:"border-box"}},"pay-body":{"":{display:"flex",flex:1,flexDirection:"row",justifyContent:"flex-start"}},"icon-weixin":{"":{color:"#04BE01"}},"icon-yue1":{"":{color:"#edde89"}},"icon-icon_xianshi-xian":{"":{"content:before":'"\\e658"'}},"icon-danxuanxuanzhong":{"":{"content:before":"'\\e623'"}},"icon-xuanze-active":{"":{color:"#55bb36"}},w100:{"":{width:"695rpx",marginLeft:"30rpx"}},pan_btn:{"":{width:"95rpx","!color":"#f89898",fontSize:"28rpx",textAlign:"center",backgroundColor:"#fc3e5a",borderRadius:"15rpx",overflow:"hidden",cursor:"pointer",textDecoration:"none",position:"relative",borderWidth:0,marginTop:0,marginBottom:0,boxSizing:"border-box"}},active_border:{"":{display:"flex",flexDirection:"column",width:"225rpx",marginTop:0,marginRight:"10rpx",marginBottom:"20rpx",marginLeft:"10rpx",alignItems:"center",justifyContent:"center",backgroundColor:"#efefef",paddingTop:"30rpx",paddingRight:0,paddingBottom:"30rpx",paddingLeft:0,borderColor:"#fc3e5a",borderStyle:"solid",borderWidth:1,borderRadius:"5rpx"}}},we={data(){return{showPlanView:!1,open_plan:!1,userInfo:{giftMoney:""},planList:[],payType:20,chooseId:0}},props:["giftName","roomId"],beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"}),s("log","at pagesLive/live/live-part/livePlan.nvue:61",getApp().config.font_url)},methods:{show(){this.showPlanView=!0,this.getUser(),this.getPlan()},getRequest(){return getApp().globalData.vueObj},getUser(){let t=this;t.getRequest()._get("user/index/setting",{},function(i){t.userInfo=i.data.userInfo})},getPlan(){let t=this;t.getRequest()._postBody("plus/live/plan/lists",{},function(i){t.planList=i.data.records})},chooseplan(t){this.chooseId=t.planId},submit(){let t=this;uni.showLoading({title:"\u52A0\u8F7D\u4E2D"}),t.getRequest()._post("plus/live/plan/submit",{planId:t.chooseId},function(i){t.getRequest().gotoPage("/pagesOrder/order/cashier?orderId="+i.data+"&orderType=70&roomId="+t.roomId)})},showError(t,i){uni.showModal({title:"\u53CB\u60C5\u63D0\u793A",content:t,showCancel:!1,success:function(o){i&&i()}})},showSuccess(t,i){uni.showModal({title:"\u53CB\u60C5\u63D0\u793A",content:t,showCancel:!1,success:function(o){i&&i()}})},changeType(t){this.payType=t},close(){this.showPlanView=!1,this.$emit("closePlan")}}};function ye(t,i,o,l,r,n){let a=(0,e.resolveComponent)("button");return r.showPlanView?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...d)=>n.close&&n.close(...d))}),(0,e.createElementVNode)("scroll-view",{class:"wrapgift-body"},[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",{class:"plan-box"},[(0,e.createElementVNode)("div",{class:"gift-container-head plan-box-head"},[(0,e.createElementVNode)("u-text",{class:"f30"},(0,e.toDisplayString)(o.giftName)+"\uFF1A",1),(0,e.createElementVNode)("u-text",{class:"f30 yellow"},(0,e.toDisplayString)(r.userInfo.giftMoney),1)]),(0,e.createElementVNode)("div",{class:"plan-cells"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.planList,(d,p)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(r.chooseId==d.planId?"active_border":"plan-cell-list"),key:p,onClick:c=>n.chooseplan(d)},[(0,e.createElementVNode)("div",{class:"plan-list-title"},[(0,e.createElementVNode)("u-text",{class:"rose f30"},(0,e.toDisplayString)(d.realMoney),1),(0,e.createElementVNode)("u-text",{class:"f28"},(0,e.toDisplayString)(o.giftName),1)]),(0,e.createElementVNode)("div",{class:"plan-list-rmb"},[(0,e.createElementVNode)("u-text",{class:"f30 gray9"},(0,e.toDisplayString)(d.money)+"\u5143",1)])],10,["onClick"]))),128))]),(0,e.createElementVNode)("div",{class:"w100"},[(0,e.createVNode)(a,{class:"pan_btn",onClick:n.submit},{default:(0,e.withCtx)(()=>[(0,e.createTextVNode)("\u7ACB\u5373\u5145\u503C")]),_:1},8,["onClick"])]),(0,e.createElementVNode)("div",{class:"plan-xieyi"},[(0,e.createElementVNode)("u-text",{class:"f28"},"\u5145\u503C\u4EE3\u8868\u5DF2\u9605\u8BFB\u5E76\u540C\u610F"),(0,e.createElementVNode)("u-text",null," "),(0,e.createElementVNode)("u-text",{class:"f28 yellow"},"\u300A\u7528\u6237\u5145\u503C\u534F\u8BAE\u300B")])])])])])):(0,e.createCommentVNode)("",!0)}var _e=f(we,[["render",ye],["styles",[be]]]),Ce={pop__ui_mask:{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,height:"800rpx",overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:1001}},pop__ui_head:{"":{borderStyle:"solid",borderColor:"#ebebeb",borderBottomWidth:"1rpx",fontSize:"28rpx",fontWeight:"700",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",textAlign:"left"}},"product-head":{"":{flexDirection:"row"}},"product-head-btn":{"":{height:"60rpx",lineHeight:"60rpx",backgroundColor:"#ffffff",borderColor:"#f72b6c"}},"add-product-head-btn":{"":{height:"60rpx",lineHeight:"60rpx",backgroundColor:"#ffffff",borderColor:"#f72b6c"}},"add-product-list":{"":{width:"750rpx",overflowY:"auto"}},"add-product-container":{"":{position:"absolute",width:"750rpx",height:"900rpx",right:0,bottom:0,left:0,borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"#FFFFFF",transitionProperty:"transform",transitionDuration:200,transitionTimingFunction:"ease",transform:"translate(0, 0)"}},"add-product-container-close":{"":{transitionProperty:"transform",transitionDuration:0,transitionTimingFunction:"ease",transform:"translate(0, 100%)"}},"add-product-head":{"":{flexDirection:"row"}},"add-product-item":{"":{flexDirection:"row",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"add-product-picture":{"":{width:"160rpx",height:"160rpx"}},"text-ellipsis-2":{"":{height:"70rpx"}},"add-product-relation":{"":{height:"60rpx",lineHeight:"60rpx",backgroundColor:"#51a938",color:"#ffffff",borderColor:"#51a938",fontSize:12}},"add-product-relation-hover":{"":{backgroundColor:"#abd7a2",borderColor:"#abd7a2"}},"order-close":{"":{width:"40rpx",height:"40rpx"}},"add-order-head":{"":{backgroundColor:"#eeeeee",flexDirection:"row"}},"order-num":{"":{fontSize:28,color:"#ababab",marginBottom:"10rpx"}},"order-title":{"":{textOverflow:"ellipsis",overflow:"hidden"}},"order-money":{"":{marginTop:"20rpx"}},"add-product-picture-image":{"":{width:"160rpx",height:"160rpx"}},"@TRANSITION":{"add-product-container":{property:"transform",duration:200,timingFunction:"ease"},"add-product-container-close":{property:"transform",duration:0,timingFunction:"ease"}}},Ie={data(){return{popupVisible:!1,total:0,no_more:!1,listData:[],page:1,list_rows:10}},props:["shopSupplierId","roomId"],methods:{show(){this.popupVisible=!0,this.start()},start(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData(){let t=this,i=t.page,o=t.list_rows;t.loading=!0,getApp()._postBody("plus/live/roomApply/orderList",{pageIndex:i||1,pageSize:o,shopSupplierId:t.shopSupplierId,roomId:t.roomId,payStatus:20},function(l){t.loading=!1,t.listData=t.listData.concat(l.data.records),t.last_page=l.data.lastPage,l.data.lastPage<=1&&(t.no_more=!0)})},loadmoreFunc(){let t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page){t.loading=!1,t.no_more=!0;return}t.getData()},close(){this.popupVisible=!1,this.$emit("closeOrder")}}};function ke(t,i,o,l,r,n){return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"popup-footer",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"pop__ui_panel"},[(0,e.createElementVNode)("view",{class:"pop__ui_mask",onClick:i[0]||(i[0]=(...a)=>n.close&&n.close(...a))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[2]||(i[2]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",{class:"add-order-head d-b-c p20 f30"},[(0,e.createElementVNode)("u-text",{class:"f30"},"\u6211\u7684\u8BA2\u5355"),(0,e.createElementVNode)("u-image",{class:"order-close",src:"https://cdn.xmdzsw.com/image/newSaas/live/close.png",mode:"",onClick:i[1]||(i[1]=(...a)=>n.close&&n.close(...a))})]),(0,e.createElementVNode)("list",{class:"add-product-list"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.listData,(a,d)=>((0,e.openBlock)(),(0,e.createElementBlock)("cell",{class:"add-product-item d-s-s",key:d},[(0,e.createElementVNode)("div",{class:"add-product-picture"},[(0,e.createElementVNode)("u-image",{class:"add-product-picture-image",src:a.product[0].productImage,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("div",{class:"flex-1 ml20"},[(0,e.createElementVNode)("div",{class:"order-num"},[(0,e.createElementVNode)("u-text",{class:"f28 gray9"},"\u8BA2\u5355\u53F7\uFF1A"+(0,e.toDisplayString)(a.orderNo),1)]),(0,e.createElementVNode)("div",{class:"order-title"},[(0,e.createElementVNode)("div",{class:"text-ellipsis-2"},[(0,e.createElementVNode)("u-text",{class:"f28"},(0,e.toDisplayString)(a.product[0].productName),1)])]),(0,e.createElementVNode)("div",{class:"order-money"},[(0,e.createElementVNode)("u-text",{class:"rose f28",style:{"font-weight":"700"}},"\uFFE5"+(0,e.toDisplayString)(a.product[0].productPrice),1)])]),(0,e.createElementVNode)("div",{class:"order-statu"},[a.isSettled==1?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:0,class:"rose f28"},"\u5DF2\u7ED3\u7B97")):(0,e.createCommentVNode)("",!0),a.isSettled==0?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:1,class:"rose f28"},"\u672A\u7ED3\u7B97")):(0,e.createCommentVNode)("",!0)])]))),128))])])])])])):(0,e.createCommentVNode)("",!0)}var Se=f(Ie,[["render",ke],["styles",[Ce]]]),Le={pop__ui_mask:{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,position:"fixed",bottom:0,left:0,right:0,zIndex:9998}},pop__ui_head:{"":{borderStyle:"solid",borderColor:"#ebebeb",borderBottomWidth:"1rpx",fontSize:"28rpx",fontWeight:"700",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",textAlign:"left"}},"foot-anchorinfo-wrap-anchorinfo":{"":{marginTop:"150rpx",height:"120rpx"}},"foot-anchorinfo-wrap-photo-box":{"":{position:"fixed",bottom:"280rpx",left:"275rpx",width:"200rpx",height:"200rpx",zIndex:9999}},"foot-anchorinfo-wrap-photo":{"":{width:"200rpx",height:"200rpx",borderRadius:50}},"foot-anchorinfo-wrap-bottom":{"":{height:"100rpx",backgroundColor:"#f4f4f4"}},"foot-anchorinfo-guanzhu":{"":{color:"#e34470"}},"foot-anchorinfo-zhuye":{"":{color:"#545454"}}},Re={data(){return{popupVisible:!1,liveUser:{},live_user:{},is_follow:!1}},props:["roomId","shopSupplierId"],methods:{show(){this.popupVisible=!0,this.getUser(),s("log","at pagesLive/live/live-part/liveAnchor.nvue:53","-------popupVisible----------")},getRequest(){return getApp().globalData.vueObj},getUser(){let t=this;t.data_type,t.getRequest()._post("plus/live/room/detail",{roomId:t.roomId},function(i){s("log","at pagesLive/live/live-part/liveAnchor.nvue:75","---\u83B7\u53D6\u4E3B\u64AD--",i.data),t.is_follow=i.data.isFollow,t.live_user=i.data.detail})},followFunc(){let t=this;t.getRequest()._post("user/favorite/add",{shopSupplierId:t.shopSupplierId,pid:t.shopSupplierId,type:10},function(i){t.$emit("changeFollow",!t.is_follow),t.getUser()})},gotoAnchorPage(){let t="/pagesSupplier/shop/shop?shopSupplierId="+this.shopSupplierId;this.getRequest().gotoPage(t)},close(){this.popupVisible=!1}}};function Fe(t,i,o,l,r,n){return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"popup-footer",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"pop__ui_panel"},[(0,e.createElementVNode)("view",{class:"pop__ui_mask",onClick:i[0]||(i[0]=(...a)=>n.close&&n.close(...a))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[4]||(i[4]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",null,[r.live_user?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"foot-anchorinfo-wrap-anchorinfo p-0-20 tc"},[(0,e.createElementVNode)("div",{class:"foot-anchorinfo-wrap-nickName d-c-c fb f34"},[(0,e.createElementVNode)("u-text",null,(0,e.toDisplayString)(r.live_user.supplierName),1)]),(0,e.createElementVNode)("div",{class:"d-c-c d-r mt20 gray9 f28"},[(0,e.createElementVNode)("u-text",{class:"p-0-10 gray6 f28"},"\u7C89\u4E1D"+(0,e.toDisplayString)(r.live_user.supplier.fav_count),1),(0,e.createElementVNode)("u-text",{class:"p-0-10 gray6 f28"},"\u70B9\u8D5E"+(0,e.toDisplayString)(r.live_user.diggNum),1)])])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:"foot-anchorinfo-wrap-bottom d-b-c d-r"},[r.is_follow?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"foot-anchorinfo-guanzhu flex-1 d-c-c",onClick:i[1]||(i[1]=(...a)=>n.followFunc&&n.followFunc(...a))},[(0,e.createElementVNode)("u-text",{class:"f34 gray6"},"+\u5173\u6CE8")])),r.is_follow?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"foot-anchorinfo-guanzhu flex-1 d-c-c",onClick:i[2]||(i[2]=(...a)=>n.followFunc&&n.followFunc(...a))},[(0,e.createElementVNode)("u-text",{class:"f34 gray6"},"\u5DF2\u5173\u6CE8")])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:"foot-anchorinfo-zhuye flex-1 d-c-c",onClick:i[3]||(i[3]=(...a)=>n.gotoAnchorPage&&n.gotoAnchorPage(...a))},[(0,e.createElementVNode)("u-text",{class:"f34 gray6"},"\u4E3B\u9875")])])]),(0,e.createElementVNode)("div",{class:"foot-anchorinfo-wrap-photo-box"},[(0,e.createElementVNode)("u-image",{class:"foot-anchorinfo-wrap-photo",src:r.live_user.supplierLogoFilePath,mode:"aspectFill"},null,8,["src"])])])])])):(0,e.createCommentVNode)("",!0)}var De=f(Re,[["render",Fe],["styles",[Le]]]),Te={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"more-box":{"":{backgroundColor:"#2a2634",width:"750rpx",height:"350rpx",position:"fixed",bottom:0,borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",zIndex:9999}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,alignItems:"center",paddingTop:"50rpx",paddingRight:0,paddingBottom:"50rpx",paddingLeft:0}},"more-icont":{"":{fontSize:"76rpx"}},"more-list-active":{"":{borderWidth:"1rpx",borderColor:"#ea4678",borderStyle:"solid",borderRadius:"16rpx"}},Progress:{"":{backgroundColor:"rgba(0,0,0,0.3)",height:"100rpx",width:"700rpx",position:"fixed",bottom:"370rpx",borderRadius:"16rpx",left:"25rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}},"progress-bar":{"":{position:"fixed",bottom:"360rpx",width:"750rpx",justifyContent:"center"}},wrap__giftPanel:{"":{zIndex:100}}},Pe={data(){return{popupVisible:!1,activeIndex:-1,max:5,min:0,progressVal:0,beauty:9,whiteness:9,device_position:"front",value:9,showSlider:!1}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"})},methods:{show(){this.popupVisible=!0},sliderChange(t){s("log","at pagesLive/live/live-part/liveMore.nvue:73",t),this.value=t.detail.value,this.activeIndex==0?(uni.setStorageSync("beauty",this.value),this.$emit("liveSet",{type:"beauty",value:this.value})):(uni.setStorageSync("whiteness",this.value),this.$emit("liveSet",{type:"whiteness",value:this.value}))},setBeauty(){this.activeIndex=0;let t=uni.getStorageSync("beauty");t?this.value=t:this.value=this.beauty,this.showSlider=!0},setWhiteness(){this.activeIndex=1;let t=uni.getStorageSync("whiteness");t?this.value=t:this.value=this.whiteness,this.showSlider=!0},setDevice(){s("log","at pagesLive/live/live-part/liveMore.nvue:110","--------------------\u672A\u5207\u6362-------------------"),this.$emit("switchCamera"),s("log","at pagesLive/live/live-part/liveMore.nvue:112","--------------------\u5207\u6362\u4E2D-------------------")},close(){this.popupVisible=!1}}};function ze(t,i,o,l,r,n){let a=(0,e.resolveComponent)("u-slider");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...d)=>n.close&&n.close(...d))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[r.showSlider?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"progress-bar",onClick:i[1]||(i[1]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createVNode)(a,{value:r.value,activeColor:"#f72b6c",backgroundColor:"#FFFFFF",blockColor:"#FFFFFF",onChange:n.sliderChange,min:0,max:9,showValue:""},null,8,["value","onChange"])])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:"more-box",onClick:i[5]||(i[5]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["more-list",{"more-list-active":r.activeIndex==0}]),onClick:i[2]||(i[2]=(...d)=>n.setBeauty&&n.setBeauty(...d))},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-magic- i-btntool more-icont"},"\uE713"),(0,e.createElementVNode)("u-text",{class:"f28 white mt20"},"\u7F8E\u989C")],2),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["more-list",{"more-list-active":r.activeIndex==1}]),onClick:i[3]||(i[3]=(...d)=>n.setWhiteness&&n.setWhiteness(...d))},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-meibai i-btntool more-icont"},"\uE635"),(0,e.createElementVNode)("u-text",{class:"f28 white mt20"},"\u7F8E\u767D")],2),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["more-list",{"more-list-active":r.activeIndex==2}]),onClick:i[4]||(i[4]=(...d)=>n.setDevice&&n.setDevice(...d))},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-shuaxin i-btntool more-icont"},"\uE636"),(0,e.createElementVNode)("u-text",{class:"f28 white mt20"},"\u76F8\u673A\u5207\u6362")],2)])])])):(0,e.createCommentVNode)("",!0)}var Be=f(Pe,[["render",ze],["styles",[Te]]]),Me={nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"more-box":{"":{backgroundColor:"#2a2634",width:"750rpx",height:"350rpx",position:"fixed",bottom:0,borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",zIndex:9999}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,alignItems:"center",paddingTop:"50rpx",paddingRight:0,paddingBottom:"50rpx",paddingLeft:0}},"more-icont":{"":{fontSize:"76rpx"}},"more-list-active":{"":{borderWidth:"1rpx",borderColor:"#ea4678",borderStyle:"solid",borderRadius:"16rpx"}},Progress:{"":{backgroundColor:"rgba(0,0,0,0.3)",height:"100rpx",width:"700rpx",position:"fixed",bottom:"370rpx",borderRadius:"16rpx",left:"25rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}},"progress-bar":{"":{position:"fixed",bottom:"360rpx",width:"750rpx",justifyContent:"center"}},wrap__giftPanel:{"":{zIndex:100}},"icon-weixin":{"":{color:"#04BE01"}}},Ae={data(){return{popupVisible:!1}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"nvueIcon",src:"url('../../../static/fonts/iconfont.ttf')"})},methods:{show(){this.popupVisible=!0},getPoster(){this.$emit("livePoster")},close(){this.popupVisible=!1},share(){}}};function Ve(t,i,o,l,r,n){let a=(0,e.resolveComponent)("button");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...d)=>n.close&&n.close(...d))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[(0,e.createElementVNode)("div",{class:"more-box",onClick:i[3]||(i[3]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",{class:"more-list",onClick:i[1]||(i[1]=(...d)=>n.share&&n.share(...d))},[(0,e.createVNode)(a,{class:"icon iconfont icon-weixin i-btntool more-icont","open-type":"share"}),(0,e.createElementVNode)("u-text",{class:"f28 white mt20"},"\u5206\u4EAB\u5FAE\u4FE1\u597D\u53CB")]),(0,e.createElementVNode)("div",{class:"more-list",onClick:i[2]||(i[2]=(...d)=>n.getPoster&&n.getPoster(...d))},[(0,e.createVNode)(a,{class:"icon iconfont icon-jingmeihaibao i-btntool more-icont"}),(0,e.createElementVNode)("u-text",{class:"f28 white mt20"},"\u751F\u6210\u6D77\u62A5")])])])])):(0,e.createCommentVNode)("",!0)}var Oe=f(Ae,[["render",Ve],["styles",[Me]]]),je={pop__ui_mask:{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:1e3}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:9999}},pop__ui_head:{"":{borderStyle:"solid",borderColor:"#ebebeb",borderBottomWidth:"1rpx",fontSize:"28rpx",fontWeight:"700",paddingTop:"30rpx",paddingRight:"30rpx",paddingBottom:"30rpx",paddingLeft:"30rpx",textAlign:"left"}},"add-product-head":{"":{backgroundColor:"#eeeeee",flexDirection:"row"}},"add-product-list":{"":{width:"750rpx",height:"700rpx"}},"add-product-item":{"":{display:"flex",flexDirection:"row",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#F6F6F6",borderBottomStyle:"solid",paddingTop:"15rpx",paddingRight:0,paddingBottom:"15rpx",paddingLeft:0}},"gift-num":{"":{width:"50rpx",height:"50rpx",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50rpx",backgroundColor:"#e3416d",textAlign:"center",lineHeight:"50rpx",marginTop:"10rpx"}},"add-product-picture-image":{"":{width:"100rpx",height:"100rpx",borderRadius:50}},"user-name":{"":{display:"flex",flex:1,marginTop:"30rpx"}},"gift-null":{"":{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"600rpx"}},fir:{"":{backgroundColor:"#df372a"}},sec:{"":{backgroundColor:"#ff721b"}},thr:{"":{backgroundColor:"#e4a347"}}},Ne={data(){return{popupVisible:!1,loading:!0,no_more:!1,listData:[],page:1,list_rows:10}},props:["roomId"],methods:{getRequest(){return getApp().globalData.vueObj},show(){this.popupVisible=!0,this.getRank()},getRank(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData(){let t=this,i=t.page,o=t.list_rows;s("log","at pagesLive/live/live-part/liveRank.nvue:84",t.roomId),t.getRequest()._postBody("plus/live/room/userGift",{pageIndex:i||1,pageSize:o,roomId:t.roomId},function(l){t.loading=!1,t.listData=t.listData.concat(l.data.records),t.last_page=l.data.lastPage,l.data.lastPage<=1&&(t.no_more=!0)})},loadmoreFunc(){let t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page){t.loading=!1,t.no_more=!0;return}t.getData()},close(){this.popupVisible=!1}}};function We(t,i,o,l,r,n){return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"popup-footer",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"pop__ui_panel"},[(0,e.createElementVNode)("view",{class:"pop__ui_mask",onClick:i[0]||(i[0]=(...a)=>n.close&&n.close(...a))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer",onClick:i[2]||(i[2]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",{class:"add-product-head p20 f30"},[(0,e.createElementVNode)("u-text",{class:"f30"},"\u793C\u7269\u6392\u884C")]),(0,e.createElementVNode)("scroll-view",{scrollY:"true",style:{height:"700rpx"}},[r.listData.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("list",{key:0,class:"add-product-list",loadmoreoffset:10,onLoadmore:i[1]||(i[1]=(...a)=>n.loadmoreFunc&&n.loadmoreFunc(...a))},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.listData,(a,d)=>((0,e.openBlock)(),(0,e.createElementBlock)("cell",{class:"add-product-item d-s-s",key:d},[d==0?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:0,class:"gift-num ml20 white f26 fir"},(0,e.toDisplayString)(d+1),1)):(0,e.createCommentVNode)("",!0),d==1?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:1,class:"gift-num ml20 white f26 sec"},(0,e.toDisplayString)(d+1),1)):(0,e.createCommentVNode)("",!0),d==2?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:2,class:"gift-num ml20 white f26 thr"},(0,e.toDisplayString)(d+1),1)):(0,e.createCommentVNode)("",!0),d!=0&&d!=1&&d!=2?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:3,class:"gift-num ml20 white f26"},(0,e.toDisplayString)(d+1),1)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-image",{class:"add-product-picture-image ml20",src:a.avatarUrl,mode:"aspectFill"},null,8,["src"])]),(0,e.createElementVNode)("u-text",{class:"user-name f30 ml20"},(0,e.toDisplayString)(a.nickName),1),(0,e.createElementVNode)("u-text",{class:"rose f30 f-w mr20 red mt30"},"+"+(0,e.toDisplayString)(a.giftNum),1)]))),128))],32)):(0,e.createCommentVNode)("",!0),r.listData.length<=0&&r.listData!=""?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"gift-null"},[(0,e.createElementVNode)("u-text",{class:"f32"},"\u6682\u65E0\u8BB0\u5F55")])):(0,e.createCommentVNode)("",!0)])])])])])):(0,e.createCommentVNode)("",!0)}var He=f(Ne,[["render",We],["styles",[je]]]),qe={iconfont:{"":{fontFamily:"iconfont"}},"animate-wrap":{"":{marginRight:10,position:"absolute",width:"74rpx",height:"800rpx",bottom:"100rpx",right:0,zIndex:9998}},content:{"":{position:"absolute",right:0,zIndex:9999}},content_box:{"":{position:"absolute",bottom:0,right:0}},logo:{"":{position:"absolute",right:0,width:"70rpx",height:"70rpx"}},aa:{"":{position:"absolute",bottom:0,fontSize:"30rpx",color:"#FFFFFF",textAlign:"center",lineHeight:"50rpx",width:"80rpx",transform:"translateY(0)"}},"icon-31guanzhu1xuanzhong":{"":{fontSize:"40rpx"}}},Ee=weex.requireModule("animation"),Ue={data(){return{viewList:[],pageDate:new Date}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().globalData.vueObj.fontUrl+"')"})},onShow(){},methods:{move(){let t=this.$refs.likelist;s("log","at pagesLive/live/live-part/likes/index.vue:38","--------------------\u70B9\u8D5E------------------------"),s("log","at pagesLive/live/live-part/likes/index.vue:39",t);let i=t[t.length-1];Ee.transition(i,{styles:{color:"#FF0000",transform:"translate(0, -200px)",opacity:"0",transformOrigin:"center center"},duration:3e3,timingFunction:"ease",delay:0},function(){s("log","at pagesLive/live/live-part/likes/index.vue:52","animation finished.")})},random(){let t=Math.floor(Math.random()*256),i=Math.floor(Math.random()*256),o=Math.floor(Math.random()*256);return`rgb(${t},${i},${o})`},handleClick(){let t=this,i=["-",""],o=["https://cdn.xmdzsw.com/image/newSaas/qunzi.png","https://cdn.xmdzsw.com/image/newSaas/aixin.png","https://cdn.xmdzsw.com/image/newSaas/yusan.png","https://cdn.xmdzsw.com/image/newSaas/zan.png","https://cdn.xmdzsw.com/image/newSaas/hua.png","https://cdn.xmdzsw.com/image/newSaas/haixing.png"],l=Math.floor(Math.random()*o.length),r={src:o[l],back:this.random(),index:!1,time:5e3,animationData:{},x:Math.ceil(Math.random()*50),q:Math.floor(Math.random()*i.length),lastIndex:5,timer:null,lastTime:1e3},n=new Date-this.pageDate;s("log","at pagesLive/live/live-part/likes/index.vue:90","--------t="+n),!(n<300)&&(this.pageDate=new Date,this.viewList.push(r),this.$nextTick(function(){this.move(),this.viewList.forEach((a,d,p)=>{var c=uni.createAnimation({duration:a.time,timingFunction:"ease-out"});t.animation=c;let x=i[a.q]+a.x;setTimeout(()=>{t.animation.translateY(-200).step(),t.animation.opacity(0).step(),t.animation.translateX(Number(x)).step(),a.animationData=t.animation.export(),clearInterval(a.timer),a.timer=setInterval(()=>{a.lastIndex--,a.lastIndex<0&&(p.splice(a,1),clearInterval(a.timer))},a.lastTime)},100)})}))}}};function Ge(t,i,o,l,r,n){return(0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"animate-wrap",renderWhole:!0},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.viewList,(a,d)=>((0,e.openBlock)(),(0,e.createElementBlock)("view",{ref_for:!0,ref:"likelist",class:(0,e.normalizeClass)(["aa",{bb:a.index}]),key:d},[(0,e.createElementVNode)("u-image",{style:{width:"65rpx",height:"65rpx"},mode:"widthFix",src:a.src,animation:a.animationData},null,8,["src","animation"])],2))),128))])}var Je=f(Ue,[["render",Ge],["styles",[qe]]]),Ye={"share-shadow":{"":{position:"fixed",top:0,zIndex:1010,width:"750rpx"}},"share-wrap":{"":{width:90,borderRadius:"20rpx",overflow:"hidden",paddingTop:"130rpx",marginTop:0,marginBottom:0}},"close-btns":{".share-wrap ":{marginTop:"10rpx",marginBottom:0,width:"60rpx",height:"60rpx",lineHeight:"60rpx",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:50,borderWidth:2,borderStyle:"solid",borderColor:"#ffffff"}},iconfont:{".home-push-wrap .close-btns ":{color:"#ffffff"}}},Xe={data(){return{type:0,width:600,backgroundColor:"none",boxShadow:"none",form:{},coupon:[]}},props:["qrcode","winHeight"],created(){},mounted(){this.setData()},methods:{setData(){s("log","at pagesLive/live/live-part/dialog/share.vue:42",this.winHeight)},hidePopupFunc(t){this.isPopup=!1,this.$emit("close")},savePosterImg(){let t=this;uni.showLoading({title:"\u52A0\u8F7D\u4E2D"}),uni.downloadFile({url:t.qrcode,success(i){uni.hideLoading(),uni.saveImageToPhotosAlbum({filePath:i.tempFilePath,success(o){uni.showToast({title:"\u4FDD\u5B58\u6210\u529F",icon:"success",duration:2e3}),t.isCreatedImg=!1},fail(o){o.errMsg==="saveImageToPhotosAlbum:fail auth deny"&&(uni.showToast({title:"\u8BF7\u5141\u8BB8\u8BBF\u95EE\u76F8\u518C\u540E\u91CD\u8BD5",icon:"none",duration:1e3}),setTimeout(()=>{uni.openSetting()},1e3))},complete(o){s("log","at pagesLive/live/live-part/dialog/share.vue:86","complete")}})}})}}};function Ze(t,i,o,l,r,n){let a=(0,e.resolveComponent)("button");return(0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"share-shadow",style:(0,e.normalizeStyle)("height:"+o.winHeight+" ;"),renderWhole:!0},[(0,e.createElementVNode)("view",{class:"share-wrap"},[(0,e.createElementVNode)("view",{class:"content ww100"},[(0,e.createElementVNode)("u-image",{src:o.qrcode,mode:"widthFix"},null,8,["src"]),(0,e.createVNode)(a,{class:"btn-rose-shadow mt20",type:"default",onClick:n.savePosterImg},{default:(0,e.withCtx)(()=>[(0,e.createTextVNode)("\u4FDD\u5B58\u56FE\u7247")]),_:1},8,["onClick"])]),(0,e.createElementVNode)("view",{class:"close-btns",onClick:i[0]||(i[0]=d=>n.hidePopupFunc(!0))},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-guanbi"})])])],4)}var Ke=f(Xe,[["render",Ze],["styles",[Ye]]]),Qe={countdown:{"":{flexDirection:"row",height:"45rpx",lineHeight:"45rpx"}},box:{"":{width:"34rpx",borderRadius:"8rpx",backgroundColor:"#fb4d70",textAlign:"center",height:"50rpx",lineHeight:"45rpx",color:"#ffffff"}}},$e={data(){return{status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"\u8DDD\u79BB\u5F00\u59CB\u4EC5\u5269\uFF1A"}},props:{config:{type:Object,default:function(){return{type:"all"}}}},created(){},watch:{config:{deep:!0,handler:function(t,i){t!=i&&t.endstamp!=0&&(t.title&&typeof t.title!="undefined"&&(this.title=t.title),this.setTime())},immediate:!0}},methods:{setTime(){let t=this;t.timer=setInterval(function(){t.init()},1e3)},init(){let t=Date.now()/1e3;t<this.config.startstamp?this.status=1:t>this.config.endstamp?this.status=2:(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.countDown()),this.$emit("returnVal",this.status)},countDown(){let t=this.totalSeconds,i=Math.floor(t/(60*60*24)),o=t%(60*60*24),l=Math.floor(o/(60*60));o=o%(60*60);let r=Math.floor(o/60),n=o%60;this.day=this.convertTwo(i),this.hour=this.convertTwo(l),this.minute=this.convertTwo(r),this.second=this.convertTwo(n),this.totalSeconds--},convertTwo(t){let i="";return t<10?i="0"+t:i=t,i},getLocalTime(t){return new Date(parseInt(t)*1e3).toLocaleString().replace(/:\d{1,2}$/," ")}},destroyed(){clearInterval(this.timer)}};function et(t,i,o,l,r,n){return(0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"countdown",renderWhole:!0},[o.config.type==null?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[r.status==0?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:0},(0,e.toDisplayString)(r.title),1)):(0,e.createCommentVNode)("",!0),r.status==1?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:1},"\u6D3B\u52A8\u5177\u4F53\u65F6\u95F4\uFF1A")):(0,e.createCommentVNode)("",!0),r.status==2?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:2},"\u6D3B\u52A8\u7ED3\u675F\u65F6\u95F4\uFF1A")):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("u-text",{class:"box"},(0,e.toDisplayString)(r.day),1),(0,e.createElementVNode)("u-text",{class:"p-0-10"},"\u5929"),(0,e.createElementVNode)("u-text",{class:"box"},(0,e.toDisplayString)(r.hour),1),(0,e.createElementVNode)("u-text",{class:"p-0-10"},"\u65F6"),(0,e.createElementVNode)("u-text",{class:"box"},(0,e.toDisplayString)(r.minute),1),(0,e.createElementVNode)("u-text",{class:"p-0-10"},"\u5206"),(0,e.createElementVNode)("u-text",{class:"box"},(0,e.toDisplayString)(r.second),1),(0,e.createElementVNode)("u-text",{class:"p-0-10"},"\u79D2")],64)):(0,e.createCommentVNode)("",!0),o.config.type==="text"?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:1},[(0,e.createTextVNode)((0,e.toDisplayString)(r.title)+(0,e.toDisplayString)(parseInt(r.day*24)+parseInt(r.hour))+":"+(0,e.toDisplayString)(r.minute)+":"+(0,e.toDisplayString)(r.second),1)],64)):(0,e.createCommentVNode)("",!0)])}var tt=f($e,[["render",et],["styles",[Qe]]]),it={url:"https://saas.xmdzsw.com",h5_url:"https://saas.xmdzsw.com"},M="";M=it.url;s("log","at env/config.js:23","\u5F00\u53D1\u73AF\u5883","production");s("log","at env/config.js:24","app_url="+M);var H={app_url:M,appId:10021,h5_addr:"/mall",font_url:"https://at.alicdn.com/t/c/font_4197023_rkfrkux72ha.ttf?t=1699237430070",role:"user",ossUrl:"https://cdn.xmdzsw.com/"},ot={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"more-box":{"":{backgroundColor:"#2a2634",width:"750rpx",height:"350rpx",position:"fixed",bottom:0,borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",zIndex:9999}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,alignItems:"center",paddingTop:"50rpx",paddingRight:0,paddingBottom:"50rpx",paddingLeft:0,borderWidth:0}},"more-icont":{"":{fontSize:"76rpx"}},"more-list-active":{"":{borderWidth:"1rpx",borderColor:"#ea4678",borderStyle:"solid",borderRadius:"16rpx"}},Progress:{"":{backgroundColor:"rgba(0,0,0,0.3)",height:"100rpx",width:"700rpx",position:"fixed",bottom:"370rpx",borderRadius:"16rpx",left:"25rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}},"progress-bar":{"":{position:"fixed",bottom:"360rpx",width:"750rpx",justifyContent:"center"}},wrap__giftPanel:{"":{zIndex:100}}},rt={data(){return{popupVisible:!1,shareConfig:{},logo:""}},created(){this.getData()},props:["appParams"],methods:{show(){this.popupVisible=!0,this.getData()},getRequest(){return getApp().globalData.vueObj},getData(){let t=this;t.getRequest()._get("settings/appShare",{},function(i){s("log","at pagesLive/live/live-part/app-nvue-share.vue:60","appShare!!!!!!!!!!!!!!!!!!!"),s("log","at pagesLive/live/live-part/app-nvue-share.vue:61",i),t.shareConfig=i.data,t.logo=i.data.logo})},closePopup(t){this.popupVisible=!1},share:function(t,i){if(!this.shareConfig){s("error","at pagesLive/live/live-part/app-nvue-share.vue:75","Share configuration is not available.");return}let o={provider:"weixin",scene:i,type:t,success:function(l){s("log","at pagesLive/live/live-part/app-nvue-share.vue:83","success:"+JSON.stringify(l))},fail:function(l){s("log","at pagesLive/live/live-part/app-nvue-share.vue:86","fail:"+JSON.stringify(l))}};this.shareConfig.type!=2?(o.summary=this.appParams.summary,o.imageUrl=this.logo,o.title=this.appParams.title,this.shareConfig.type==1?o.href=this.shareConfig.openSite+this.appParams.path:this.shareConfig.type==3&&(this.shareConfig.bindType==1?o.href=this.shareConfig.downUrl:o.href=H.app_url+"/api/user/useropen/invite?appId="+H.appId+"&refereeId="+uni.getStorageSync("userId"))):(o.scene="WXSceneSession",o.type=5,o.imageUrl=this.appParams.image?this.appParams.image:this.logo,o.title=this.appParams.title,o.miniProgram={id:this.shareConfig.ghId,path:this.appParams.path,webUrl:this.shareConfig.webUrl,type:0}),uni.share(o)}}};function nt(t,i,o,l,r,n){let a=(0,e.resolveComponent)("u-slider"),d=(0,e.resolveComponent)("button");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:(0,e.normalizeClass)(["wrap__giftPanel",t.Visible?"bottom-panel open":"bottom-panel close"]),onClick:i[5]||(i[5]=(...p)=>n.closePopup&&n.closePopup(...p)),renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...p)=>n.closePopup&&n.closePopup(...p))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[t.showSlider?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"progress-bar",onClick:i[1]||(i[1]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createVNode)(a,{value:t.value,activeColor:"#f72b6c",backgroundColor:"#FFFFFF",blockColor:"#FFFFFF",onChange:t.sliderChange,min:0,max:9,showValue:""},null,8,["value","onChange"])])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("view",{class:"more-box",onClick:i[4]||(i[4]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createVNode)(d,{class:"more-list","open-type":"share",onClick:i[2]||(i[2]=p=>n.share(0,"WXSceneSession")),style:{"background-color":"#2a2634",padding:"0 12rpx","margin-right":"12rpx"}},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-weixin i-btntool more-icont"},"\uE621")]),(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-text",{class:"f28 white"},"\u5FAE\u4FE1\u597D\u53CB")])]),_:1}),(0,e.createVNode)(d,{class:"more-list",onClick:i[3]||(i[3]=p=>n.share(0,"WXSenceTimeline")),style:{"background-color":"#2a2634",padding:"0 12rpx"}},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-fenxiang i-btntool more-icont"},"\uE617")]),(0,e.createElementVNode)("view",null,[(0,e.createElementVNode)("u-text",{class:"f28 white"},"\u5FAE\u4FE1\u670B\u53CB\u5708")])]),_:1})])])],2)):(0,e.createCommentVNode)("",!0)}var st=f(rt,[["render",nt],["styles",[ot]]]);plus.os.name=="iOS";function q(t){return new Promise((i,o)=>{plus.android.requestPermissions([t],function(l){for(var r=0,n=0;n<l.granted.length;n++){var a=l.granted[n];s("log","at common/permission.js:167","\u5DF2\u83B7\u53D6\u7684\u6743\u9650\uFF1A"+a),r=1}for(var n=0;n<l.deniedPresent.length;n++){var d=l.deniedPresent[n];s("log","at common/permission.js:172","\u62D2\u7EDD\u672C\u6B21\u7533\u8BF7\u7684\u6743\u9650\uFF1A"+d),r=0}for(var n=0;n<l.deniedAlways.length;n++){var p=l.deniedAlways[n];s("log","at common/permission.js:177","\u6C38\u4E45\u62D2\u7EDD\u7533\u8BF7\u7684\u6743\u9650\uFF1A"+p),r=-1}i(r)},function(l){s("log","at common/permission.js:187","\u7533\u8BF7\u6743\u9650\u9519\u8BEF\uFF1A"+l.code+" = "+l.message),i({code:l.code,message:l.message})})})}var lt={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"foot-box":{"":{height:"84rpx",lineHeight:"84rpx",borderTopWidth:"1rpx",borderTopStyle:"solid",borderTopColor:"rgba(255,255,255,0.1)",paddingTop:0,paddingRight:"23rpx",paddingBottom:0,paddingLeft:"23rpx",display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"}},icon:{".foot-box .iconfont":{fontSize:"22rpx",color:"#DDDDDD"},".more-list .iconfont":{color:"#FFFFFF"}},"more-box":{"":{backgroundColor:"rgba(0,0,0,0.85)",width:"750rpx",position:"fixed",bottom:0,display:"flex",flexDirection:"column",zIndex:9999}},"more-box-list":{"":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:"34rpx",paddingRight:"107rpx",paddingBottom:"43rpx",paddingLeft:"134rpx"}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"72rpx",color:"#FFFFFF"}},"more-icont":{"":{fontSize:"46rpx",color:"#FFFFFF"}},Progress:{"":{backgroundColor:"rgba(0,0,0,0.3)",height:"100rpx",width:"700rpx",position:"fixed",bottom:"370rpx",borderRadius:"16rpx",left:"25rpx",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}},"progress-bar":{"":{width:"364rpx",height:"75rpx",marginLeft:"193rpx",alignItems:"center",justifyContent:"center",paddingTop:"30rpx"}},"progress-bar-slider":{"":{width:"364rpx",marginLeft:"193rpx"}},wrap__giftPanel:{"":{zIndex:100}},"more-iconbox":{"":{width:"69rpx",height:"69rpx",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center"}},"more-iconbox-active":{"":{backgroundColor:"#8AE4F0"}}},at={data(){return{popupVisible:!1,activeIndex:0,value:1}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"}),s("log","at pagesLive/live/part/beauty.nvue:87",getApp().config.font_url)},methods:{show(){this.activeIndex=0,this.value=uni.getStorageSync("lightening")*10,this.popupVisible=!0},sliderChange(t){let i=t.detail.value/10;this.activeIndex==0&&uni.setStorageSync("lightening",i),this.activeIndex==1&&uni.setStorageSync("smoothness",i),this.activeIndex==2&&uni.setStorageSync("redness",i),this.activeIndex==3&&uni.setStorageSync("sharpness",i),this.$emit("liveSet","set")},close(){this.popupVisible=!1,this.$emit("close")},setBrightness(){this.activeIndex=0,this.value=uni.getStorageSync("lightening")*10},setSmoothness(){this.activeIndex=1,this.value=uni.getStorageSync("smoothness")*10},setRedness(){this.activeIndex=2,this.value=uni.getStorageSync("redness")*10},setSharpness(){this.activeIndex=3,this.value=uni.getStorageSync("sharpness")*10},resetBeauty(){this.$emit("liveSet","reset"),this.activeIndex==0?this.value=6:this.activeIndex==1?this.value=5:this.activeIndex==2?this.value=1:this.activeIndex==3&&(this.value=3)}}};function dt(t,i,o,l,r,n){let a=(0,e.resolveComponent)("u-slider");return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...d)=>n.close&&n.close(...d))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[(0,e.createElementVNode)("div",{class:"more-box",onClick:i[7]||(i[7]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("view",{class:"p-20-0"},[(0,e.createVNode)(a,{class:"progress-bar-slider",value:r.value,activeColor:"#E2231A",backgroundColor:"#FFFFFF",blockSize:20,blockColor:"#FFFFFF",onChange:n.sliderChange,min:0,max:10},null,8,["value","onChange"])]),(0,e.createElementVNode)("view",{class:"more-box-list"},[(0,e.createElementVNode)("view",{class:"more-list",onClick:i[1]||(i[1]=(...d)=>n.setBrightness&&n.setBrightness(...d))},[(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["more-iconbox",{"more-iconbox-active":r.activeIndex==0}])},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-liangdu_o i-btntool more-icont"},"\uEB66")],2),(0,e.createElementVNode)("u-text",{class:"f22 white mt20"},"\u4EAE\u5EA6")]),(0,e.createElementVNode)("view",{class:"more-list",onClick:i[2]||(i[2]=(...d)=>n.setSmoothness&&n.setSmoothness(...d))},[(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["more-iconbox",{"more-iconbox-active":r.activeIndex==1}])},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-guanghua i-btntool more-icont"},"\uE675")],2),(0,e.createElementVNode)("u-text",{class:"f22 white mt20"},"\u5E73\u6ED1\u5EA6")]),(0,e.createElementVNode)("view",{class:"more-list",onClick:i[3]||(i[3]=(...d)=>n.setRedness&&n.setRedness(...d))},[(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["more-iconbox",{"more-iconbox-active":r.activeIndex==2}])},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-Vlian i-btntool more-icont"},"\uE677")],2),(0,e.createElementVNode)("u-text",{class:"f22 white mt20"},"\u7EA2\u8272\u5EA6")]),(0,e.createElementVNode)("view",{class:"more-list",onClick:i[4]||(i[4]=(...d)=>n.setSharpness&&n.setSharpness(...d))},[(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["more-iconbox",{"more-iconbox-active":r.activeIndex==3}])},[(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-qingxidu i-btntool more-icont"},"\uE667")],2),(0,e.createElementVNode)("u-text",{class:"f22 white mt20"},"\u9510\u5EA6")])]),(0,e.createElementVNode)("view",{class:"foot-box"},[(0,e.createElementVNode)("u-text",{class:"grayD f22",onClick:i[5]||(i[5]=(...d)=>n.resetBeauty&&n.resetBeauty(...d))},"\u91CD\u7F6E"),(0,e.createElementVNode)("u-text",{class:"grayD f22"},"\u7F8E\u989C"),(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-lizhirenyuan i-btntool more-icont",onClick:i[6]||(i[6]=(...d)=>n.close&&n.close(...d))},"\uE614")])])])])):(0,e.createCommentVNode)("",!0)}var pt=f(at,[["render",dt],["styles",[lt]]]),ct={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"foot-box":{"":{height:"84rpx",lineHeight:"84rpx",borderTopWidth:"1rpx",borderTopStyle:"solid",borderTopColor:"#000000",paddingTop:0,paddingRight:"23rpx",paddingBottom:0,paddingLeft:"23rpx",borderColor:"rgba(255,255,255,0.1)"}},icon:{".foot-box .iconfont":{fontSize:"22rpx",color:"#DDDDDD"}},"more-box":{"":{backgroundColor:"rgba(0,0,0,0.85)",width:"750rpx",position:"fixed",bottom:0,display:"flex",flexDirection:"column",zIndex:9999}},"more-box-list":{"":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:"34rpx",paddingRight:"107rpx",paddingBottom:"43rpx",paddingLeft:"134rpx"}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"72rpx",color:"#FFFFFF"}},wrap__giftPanel:{"":{zIndex:100}},mr40:{"":{marginRight:"40rpx"}},"def-btn":{"":{borderRadius:"30rpx",height:"60rpx",display:"flex",justifyContent:"center",alignItems:"center",width:"180rpx",color:"#FFFFFF",fontSize:"22rpx",lineHeight:"60rpx",textAlign:"center"}},"def-btn-active":{"":{color:"#E2231A",borderWidth:"1rpx",borderStyle:"solid",borderColor:"#E2231A"}}},ut={data(){return{popupVisible:!1,type:0}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"}),s("log","at pagesLive/live/part/definition.nvue:41",getApp().config.font_url)},methods:{show(){let t=uni.getStorageSync("vd");t?this.type=t:this.type=0,this.popupVisible=!0},defFunc(t){this.type=t,this.$emit("liveSet",t)},close(){this.popupVisible=!1}}};function gt(t,i,o,l,r,n){return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...a)=>n.close&&n.close(...a))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[(0,e.createElementVNode)("div",{class:"more-box",onClick:i[5]||(i[5]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("view",{class:"more-box-list"},[(0,e.createElementVNode)("u-text",{class:(0,e.normalizeClass)(["def-btn mr40",r.type==0?"def-btn-active":""]),onClick:i[1]||(i[1]=a=>n.defFunc(0))},"\u6807\u51C6",2),(0,e.createElementVNode)("u-text",{class:(0,e.normalizeClass)(["def-btn",r.type==1?"def-btn-active":""]),onClick:i[2]||(i[2]=a=>n.defFunc(1))},"\u9AD8\u6E05",2),(0,e.createElementVNode)("u-text",{class:(0,e.normalizeClass)(["def-btn",r.type==2?"def-btn-active":""]),onClick:i[3]||(i[3]=a=>n.defFunc(2))},"\u8D85\u6E05",2)]),(0,e.createElementVNode)("view",{class:"d-b-c f-d-i foot-box"},[(0,e.createElementVNode)("u-text",{class:"grayD f22"},"\u91CD\u7F6E"),(0,e.createElementVNode)("u-text",{class:"grayD f22"},"\u6E05\u6670\u5EA6"),(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-lizhirenyuan i-btntool more-icont",onClick:i[4]||(i[4]=(...a)=>n.close&&n.close(...a))},"\uE614")])])])])):(0,e.createCommentVNode)("",!0)}var ft=f(ut,[["render",gt],["styles",[ct]]]),ht={iconfont:{"":{fontFamily:"iconfont"}},nlv_borT:{"":{borderColor:"#ebebeb",borderStyle:"solid",borderTopWidth:"1rpx"}},"wrapgift-mask":{"":{backgroundColor:"#000000",opacity:.1,position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:201910}},pop__ui_child:{"":{backgroundColor:"#fbfbfb",borderTopLeftRadius:12,borderTopRightRadius:12,fontSize:14,overflow:"hidden",position:"fixed",bottom:0,left:0,right:0,zIndex:201911}},"foot-box":{"":{height:"84rpx",lineHeight:"84rpx",borderTopWidth:"1rpx",borderTopStyle:"solid",borderTopColor:"rgba(255,255,255,0.1)",paddingTop:0,paddingRight:"23rpx",paddingBottom:0,paddingLeft:"23rpx"}},icon:{".foot-box .iconfont":{fontSize:"22rpx",color:"#DDDDDD"}},"more-box":{"":{backgroundColor:"rgba(0,0,0,0.85)",width:"750rpx",position:"fixed",bottom:0,display:"flex",flexDirection:"column",zIndex:9999}},"more-box-list":{"":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"nowrap",paddingTop:"25rpx",paddingRight:0,paddingBottom:"53rpx",paddingLeft:0}},"more-box-list-item":{"":{width:"152rpx",height:"194rpx",borderRadius:"10rpx",marginRight:"47rpx",borderWidth:"3rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0)",paddingTop:"6rpx",paddingRight:"6rpx",paddingBottom:"6rpx",paddingLeft:"6rpx"}},"more-box-list-item-active":{"":{borderWidth:"3rpx",borderStyle:"solid",borderColor:"#E2231A"}},"more-box-list-image":{"":{width:"137rpx",height:"179rpx",borderRadius:"10rpx"}},"more-list":{"":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"72rpx",color:"#FFFFFF"}},wrap__giftPanel:{"":{zIndex:100}},category_list:{"":{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"row",flexWrap:"nowrap",height:"95rpx",borderBottomWidth:"1rpx",borderBottomStyle:"solid",borderBottomColor:"rgba(255,255,255,0.1)"}},category_item:{"":{marginTop:0,marginRight:"64rpx",marginBottom:0,marginLeft:"64rpx",fontSize:"28rpx",color:"#DDDDDD",height:"95rpx",lineHeight:"95rpx",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}},"category_item-active-after":{"":{position:"absolute",bottom:"1rpx",left:0,width:"32rpx",height:"5rpx",backgroundColor:"#DDDDDD",borderRadius:"3rpx"}}},mt={data(){return{img_index:0,popupVisible:!1,type:0,listData:[],bg_index:-1}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"}),s("log","at pagesLive/live/part/background.nvue:53",getApp().config.font_url)},methods:{show(){this.popupVisible=!0,this.getData()},getData(){let t=this;getApp()._get("live.RoomApply/imageInfo",{},i=>{t.listData=i.data.list})},close(){this.$emit("close"),this.popupVisible=!1},selectBg(t,i){s("log","at pagesLive/live/part/background.nvue:73","selectBg"),this.bg_index=i,this.$emit("liveSet",t)},reset(){this.img_index=0,this.bg_index=-1,this.$emit("liveSet","")}}};function vt(t,i,o,l,r,n){return r.popupVisible?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"wrap__giftPanel",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"wrapgift-mask",onClick:i[0]||(i[0]=(...a)=>n.close&&n.close(...a))}),(0,e.createElementVNode)("view",{class:"pop__ui_child anim-footer"},[(0,e.createElementVNode)("view",{class:"more-box p-0-20",onClick:i[3]||(i[3]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("scroll-view",{scrollX:"true",class:"category_list"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.listData,(a,d)=>((0,e.openBlock)(),(0,e.createElementBlock)("view",{class:(0,e.normalizeClass)(["category_item",r.img_index==d?"active":""]),key:d,onClick:p=>r.img_index=d},[r.img_index==d?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"category_item-active-after"})):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("u-text",{class:"white f28"},(0,e.toDisplayString)(a.name),1)],10,["onClick"]))),128))]),r.listData[r.img_index]&&r.listData[r.img_index].list?((0,e.openBlock)(),(0,e.createElementBlock)("scroll-view",{key:0,scrollX:"true",class:"more-box-list"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.listData[r.img_index].list,(a,d)=>((0,e.openBlock)(),(0,e.createElementBlock)("view",{class:(0,e.normalizeClass)(["more-box-list-item",r.bg_index==d?"more-box-list-item-active":""]),key:d,onClick:p=>n.selectBg(a.link,d)},[(0,e.createElementVNode)("u-image",{class:"more-box-list-image",src:a.link,mode:"aspectFill"},null,8,["src"])],10,["onClick"]))),128))])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("view",{class:"d-b-c f-d-i foot-box"},[(0,e.createElementVNode)("u-text",{class:"grayD f22",onClick:i[1]||(i[1]=(...a)=>n.reset&&n.reset(...a))},"\u91CD\u7F6E"),(0,e.createElementVNode)("u-text",{class:"grayD f22"},"\u9009\u62E9\u80CC\u666F"),(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-lizhirenyuan i-btntool more-icont",onClick:i[2]||(i[2]=(...a)=>n.close&&n.close(...a))},"\uE614")])])])])):(0,e.createCommentVNode)("",!0)}var xt=f(mt,[["render",vt],["styles",[ht]]]),bt={"live-bg":{"":{width:"750rpx",position:"fixed",top:0,left:0,right:0,zIndex:0}},header:{"":{zIndex:99,position:"fixed",width:"750rpx"}},"header-close-btn":{"":{width:"46rpx",height:"46rpx",marginLeft:"27rpx",marginTop:"48rpx"}},"header-close-img":{"":{width:"46rpx",height:"46rpx"}},"start-btn":{"":{position:"fixed",left:"149rpx",right:0,width:"452rpx",height:"82rpx",backgroundColor:"#E2231A",fontSize:"32rpx",color:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center",borderColor:"#E2231A"}},"right-tools":{"":{position:"fixed",right:"28rpx",marginTop:"108rpx"}},"right-tool-item":{"":{marginBottom:"55rpx",display:"flex",justifyContent:"center",alignItems:"center"}},"right-tool-item-image":{"":{width:"55rpx",height:"55rpx",marginBottom:"16rpx"}},"right-tool-item-name":{"":{fontSize:"32rpx",color:"#ffffff"}}},wt={components:{Beauty:pt,Definition:ft,Background:xt},data(){return{statusBarH:0,headerBarH:0,winHeight:0,winWidth:0}},props:["isShow"],created(){this.initWind()},methods:{initWind(){let t=uni.getSystemInfoSync().statusBarHeight,i=t+50,o=uni.getSystemInfoSync().windowHeight,l=uni.getSystemInfoSync().windowWidth;this.statusBarH=t,this.headerBarH=i,this.winHeight=o,this.winWidth=l},openBeauty(){this.$refs.beauty.show()},openDefinition(){this.$refs.definition.show()},openBackground(){this.$refs.background.show()},BeautyFunc(t){s("log","at pagesLive/live/preview.nvue:80","BeautyFuncBeautyFuncBeautyFunc"),s("log","at pagesLive/live/preview.nvue:81",t),this.$emit("setBeautyOptions",t)},DefinitionFunc(t){this.$emit("setDefinition",t)},BackgroundFunc(t){s("log","at pagesLive/live/preview.nvue:88","BackgroundFunc"),s("log","at pagesLive/live/preview.nvue:89",t),this.$emit("changeVirtualBackground",t)},closeLive(){this.$emit("close")},startFunc(){this.$emit("openLive")},startPreview(){this.$emit("startPreview")},switchCamera(){this.$emit("switchCamera")}}};function yt(t,i,o,l,r,n){let a=(0,e.resolveComponent)("Beauty"),d=(0,e.resolveComponent)("Definition"),p=(0,e.resolveComponent)("Background");return o.isShow?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,renderWhole:!0},[(0,e.createElementVNode)("view",{class:"header",style:(0,e.normalizeStyle)("top:"+r.statusBarH+"px;")},[(0,e.createElementVNode)("view",{class:"header-close-btn",onClick:i[0]||(i[0]=(...c)=>n.closeLive&&n.closeLive(...c))},[(0,e.createElementVNode)("u-image",{class:"header-close-img",src:"https://cdn.xmdzsw.com/image/newSaas/live/close.png",mode:""})])],4),(0,e.createElementVNode)("view",{class:"right-tools",style:(0,e.normalizeStyle)({top:r.statusBarH})},[(0,e.createElementVNode)("view",{class:"right-tool-item",onClick:i[1]||(i[1]=(...c)=>n.switchCamera&&n.switchCamera(...c))},[(0,e.createElementVNode)("u-image",{class:"right-tool-item-image",src:"https://cdn.xmdzsw.com/image/newSaas/live/flip.png",mode:""}),(0,e.createElementVNode)("u-text",{class:"right-tool-item-name"},"\u7FFB\u8F6C")]),(0,e.createElementVNode)("view",{class:"right-tool-item",onClick:i[2]||(i[2]=(...c)=>n.openBeauty&&n.openBeauty(...c))},[(0,e.createElementVNode)("u-image",{class:"right-tool-item-image",src:"https://cdn.xmdzsw.com/image/newSaas/live/beautify.png",mode:""}),(0,e.createElementVNode)("u-text",{class:"right-tool-item-name"},"\u7F8E\u5316")]),(0,e.createElementVNode)("view",{class:"right-tool-item",onClick:i[3]||(i[3]=(...c)=>n.openDefinition&&n.openDefinition(...c))},[(0,e.createElementVNode)("u-image",{class:"right-tool-item-image",src:"https://cdn.xmdzsw.com/image/newSaas/live/tool.png",mode:""}),(0,e.createElementVNode)("u-text",{class:"right-tool-item-name"},"\u6E05\u6670\u5EA6")])],4),(0,e.createElementVNode)("view",{class:"start-btn",style:(0,e.normalizeStyle)("top:"+r.winHeight*.72+"px;"),onClick:i[4]||(i[4]=(...c)=>n.startFunc&&n.startFunc(...c))},[(0,e.createElementVNode)("u-text",{class:"white f32"},"\u5F00\u59CB\u89C6\u9891\u76F4\u64AD")],4),(0,e.createVNode)(a,{ref:"beauty",onLiveSet:n.BeautyFunc},null,8,["onLiveSet"]),(0,e.createVNode)(d,{ref:"definition",onLiveSet:n.DefinitionFunc},null,8,["onLiveSet"]),(0,e.createVNode)(p,{ref:"background",onLiveSet:n.BackgroundFunc},null,8,["onLiveSet"])])):(0,e.createCommentVNode)("",!0)}var _t=f(wt,[["render",yt],["styles",[bt]]]),Ct={iconfont:{"":{"!fontFamily":"iconfont"}},mr_20:{".avator-scrollbox .avator-scroll ":{marginRight:"-20rpx"}},nlv__container:{"":{flex:1,height:100,backgroundColor:"#ffffff"}},nlv_topbar:{"":{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"absolute",left:0,right:0,top:0,zIndex:1001}},"topbar-info":{"":{flexDirection:"column",paddingLeft:"20rpx",flexWrap:"nowrap",alignItems:"center",justifyContent:"space-between",paddingTop:"10rpx"}},"avator-box":{"":{backgroundColor:"rgba(0,0,0,0.4)",paddingTop:"6rpx",paddingRight:"6rpx",paddingBottom:"6rpx",paddingLeft:"6rpx",borderRadius:"50rpx",flexDirection:"row",alignItems:"center",marginBottom:"20rpx"}},"ta-avator":{"":{borderRadius:50,marginRight:"10rpx",height:"68rpx",width:"68rpx"}},tabox:{"":{textOverflow:"ellipsis",width:"150rpx",lineHeight:"27rpx"}},"ta-name":{"":{color:"#ffffff",fontSize:"24rpx"}},"ta-num":{"":{color:"#ffffff",fontSize:"24rpx"}},"ta-gz":{"":{backgroundImage:"linear-gradient(to right, #ff540a, #ff0f33)",borderRadius:"40rpx",color:"#ffffff",fontSize:"24rpx",textAlign:"center",paddingTop:"8rpx",paddingRight:0,paddingBottom:"8rpx",paddingLeft:0,width:"90rpx"}},"ta-gz-on":{"":{backgroundColor:"rgba(255,255,255,0.2)",backgroundImage:"none"}},"avator-scroll":{"":{paddingLeft:"10rpx",flexDirection:"row",paddingTop:0,paddingRight:"10rpx",paddingBottom:0,height:"60rpx",width:"230rpx"}},"member-num":{"":{backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"40rpx",color:"#ffffff",fontSize:"24rpx",textAlign:"center",paddingTop:"10rpx",paddingRight:"14rpx",paddingBottom:"10rpx",paddingLeft:"14rpx"}},"topbar-right":{"":{flexDirection:"row",marginTop:"-10rpx",marginRight:"40rpx"}},topbar_ico:{"":{color:"#ffffff",fontSize:"40rpx",paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx",position:"relative",zIndex:1001}},"nlv-rankbox":{"":{position:"absolute",left:0,right:0,zIndex:1001,direction:"ltr",flexDirection:"row"}},"nlv-rkls":{"":{flexDirection:"row",alignItems:"center"}},rkitem:{"":{backgroundImage:"linear-gradient(to right, rgba(255, 56, 166, 0.5), rgba(57, 159, 255, 0.5))",borderRadius:"40rpx",color:"#ffffff",fontSize:"24rpx",marginLeft:"20rpx",paddingTop:"4rpx",paddingRight:"10rpx",paddingBottom:"4rpx",paddingLeft:"10rpx"}},"nlv-uid":{"":{color:"rgba(255,255,255,0.5)",fontSize:"28rpx",position:"absolute",right:"20rpx",top:0}},nlv_main:{"":{position:"fixed",width:"750rpx",flex:1,height:100,zIndex:99}},"nlv-swiper":{"":{flex:1}},"nlv-playerbox":{"":{flex:1}},"player-video":{"":{height:100,width:100}},"nlv-giftTipPanel":{"":{flexDirection:"column",marginLeft:"20rpx",marginBottom:"180rpx"}},"giftip-item":{"":{backgroundColor:"rgba(0,0,0,0.3)",borderRadius:"100rpx",paddingTop:"8rpx",paddingRight:"100rpx",paddingBottom:"8rpx",paddingLeft:"8rpx",flexDirection:"row",alignItems:"center",width:"410rpx",marginTop:"10rpx"}},"gt-avator":{"":{borderRadius:50,height:"72rpx",width:"72rpx"}},"gt-info":{"":{paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",overflow:"hidden",width:"230rpx"}},"gt-tit":{"":{color:"#ffffff",fontSize:"28rpx",overflow:"hidden",height:"40rpx",lineHeight:"40rpx"}},"gt-subtit":{"":{color:"rgba(255,255,255,0.7)",fontSize:"24rpx",letterSpacing:"4rpx"}},"gt-gift":{"":{height:"100rpx",width:"100rpx",position:"absolute",top:"-6rpx",right:"35rpx"}},"nlv-msglist":{"":{marginTop:"10rpx",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-end"}},msg_bg:{"":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"35rpx",paddingTop:"6rpx",paddingRight:"16rpx",paddingBottom:"6rpx",paddingLeft:"16rpx",flexDirection:"row",flexWrap:"wrap",marginTop:"13rpx",lineHeight:"42rpx"}},msg_name:{"":{color:"#72deed",fontSize:"24rpx",fontWeight:"bold",lineHeight:"42rpx"}},msg_text:{"":{color:"rgba(255,255,255,1)",fontSize:"24rpx",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",overflow:"hidden",width:"450rpx",direction:"ltr",flexDirection:"row",fontWeight:"bold",lineHeight:"42rpx",position:"relative"}},msg_txtxt:{"":{color:"rgba(255,255,255,1)",fontSize:"28rpx",height:"28rpx"}},"nlv-infobox":{"":{position:"fixed",width:"750rpx",paddingTop:"25rpx",paddingRight:"25rpx",paddingBottom:"25rpx",paddingLeft:"25rpx",bottom:0,left:0,flex:1,flexDirection:"column",alignItems:"flex-start"}},nlv_reply:{"":{flexDirection:"row",backgroundColor:"rgba(0,0,0,0.3)",borderRadius:"50rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",height:"72rpx",width:"420rpx"}},nlv_reply_text:{"":{color:"#ffffff",fontSize:"22rpx"}},nlv_btntool:{"":{flexDirection:"row",justifyContent:"space-between",marginLeft:"20rpx",flex:1}},"btn-toolitem":{"":{borderWidth:0,borderStyle:"solid",borderColor:"#000000",outline:"none",backgroundColor:"rgba(0,0,0,0)",display:"flex",borderRadius:50,alignItems:"center",justifyContent:"center",marginLeft:"10rpx",height:"72rpx",width:"72rpx"}},"btn-toolitem-cart":{"":{backgroundImage:"linear-gradient(to right, #ff955d, #f93b37)"}},"btn-icon-img":{"":{width:"72rpx",height:"72rpx",borderRadius:50}},"i-btntool":{"":{fontSize:"40rpx",color:"#ffffff"}},"nlv-rollMsgPanel":{"":{marginBottom:"80rpx",maxHeight:"400rpx",width:"480rpx"}},"avator-scrollbox":{"":{marginLeft:"-75rpx"}},"msg-text-name":{"":{color:"#72deed",fontSize:"24rpx",position:"absolute",left:0,top:0,zIndex:2,fontWeight:"bold",flexDirection:"row"}},"level-text":{"":{backgroundColor:"#72deed",fontSize:"20rpx",color:"#ffffff",borderRadius:"12rpx",paddingTop:0,paddingRight:"6rpx",paddingBottom:0,paddingLeft:"6rpx",marginRight:"12rpx"}},"msg_level-text":{"":{backgroundColor:"#72deed",fontSize:"24rpx",color:"#ffffff",borderRadius:"12rpx",fontWeight:"bold"}},msg_level:{"":{paddingTop:0,paddingRight:"13rpx",paddingBottom:0,paddingLeft:"46rpx",height:"32rpx",borderRadius:"16rpx",backgroundImage:"linear-gradient(-65deg, rgba(114, 222, 237, 0.85), rgba(177, 232, 174, 0.85), rgba(177, 232, 174, 0.85))",marginRight:"6rpx",position:"relative"}},msg_txt:{"":{color:"rgba(255,255,255,1)",fontSize:"24rpx",fontWeight:"bold",width:"450rpx",lineHeight:"42rpx"}},product:{"":{position:"fixed",bottom:"140rpx",right:"20rpx",backgroundColor:"#ffffff",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx",zIndex:99,borderRadius:"15rpx"}},"product-pic":{"":{width:"200rpx",height:"200rpx"}},"product-img":{"":{width:100,height:100}},"product-price":{"":{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10rpx"}},diggnum:{"":{width:"74rpx",height:"22rpx",fontSize:"20rpx",backgroundColor:"#f93b37",color:"#ffffff",textAlign:"center",lineHeight:"22rpx",borderRadius:"11rpx",position:"absolute",top:"-28rpx",left:0}},notice_back_image:{"":{position:"absolute",top:0,left:0,width:"750rpx"}},notice_content:{"":{textAlign:"center",paddingTop:"340rpx",backgroundColor:"rgba(0,0,0,0.6)"}},notice_content_img:{"":{width:"200rpx",height:"200rpx",marginTop:0,marginBottom:44}},notice_content_imgbox:{"":{display:"flex",justifyContent:"center",alignItems:"center"}},notice_btn:{"":{width:"250rpx",height:"80rpx",borderStyle:"solid",borderWidth:"1rpx",borderColor:"#fb4b70",lineHeight:"80rpx",textAlign:"center",borderRadius:"40rpx"}},notice_btn_txt:{"":{color:"#fb4d70"}},notice_btns:{"":{flexDirection:"row"}},notice_title_t:{"":{textAlign:"center",color:"#ffffff",fontSize:"34rpx",height:"120rpx",lineHeight:"120rpx"}},notice_title_c:{"":{textAlign:"center",color:"#ffffff",fontSize:"22rpx",height:"38rpx",lineHeight:"38rpx"}},notice_title_b:{"":{textAlign:"center",color:"#ffffff",fontSize:"26rpx",height:"120rpx",lineHeight:"120rpx",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},notice_share:{"":{position:"absolute",top:0}},notice_jiantou:{"":{transform:"rotate(180deg)",color:"#ffffff"}},notice_back:{"":{width:"750rpx",color:"#ffffff",display:"flex",position:"absolute",top:32,zIndex:0,fontSize:"30rpx",alignItems:"center",justifyContent:"center"}},notice_back_back:{"":{textAlign:"left",position:"absolute",top:"70rpx",left:"45rpx",zIndex:1}},"icon-guanbi":{"":{color:"#ffffff"}},"icon-jiantou":{"":{color:"#ffffff"}},red:{"":{color:"#e22319"}},"close-btn":{"":{width:"48rpx",height:"48rpx"}}},v=B("globalEvent"),R="io.agora.rtc.",k="io.agora.rtm.",It={components:{liveCart:de,liveGift:ge,liveMsg:ve,livePlan:_e,liveOrder:Se,liveAnchor:De,liveMore:Be,liveShare:Oe,liveRank:He,Likes:Je,share:Ke,Countdown:tt,AppShare:st,preview:_t},data(){return{statusBarH:"",statusBarHs:"",headerBarH:"",winHeight:"",winWidth:"",videoIndex:0,clickNum:0,giftipShowist:[],sence:"",roomId:0,shopSupplierId:0,role:"",loading:!0,commentsList:[],maxCommentSize:100,roomDetail:{},giftName:"",giftNum:0,hasFollow:!1,giftList:[],isCaster:!1,user:{},giftInfo:{nickName:"",avatarUrl:"",giftName:"",giftImage:""},explainProductId:"",explain_product:null,num:0,diggNum:0,digg_times:5,digg_timer:null,is_replay:!1,replay_url:"",is_start:!1,qrcode:null,toMsg:"",emojiData:[],countdownConfig:{startstamp:0,endstamp:0,title:""},isAppShare:!1,appParams:{title:"",summary:"",path:""},zOrderMediaOverlay:!1,zOrderOnTop:!1,renderMode:1,mirrorMode:0,engine_load:!1,whiteness:5,beauty:5,userInfo:{},channel:"",view_uid:0,agoraView:null,agoraRtm:null,platform:"",agoraAppId:"",appId:"",uid:"",liveChannelId:"",token:"",nickName:"",beautyOptions:{enabled:!0,contrastLevel:1,lightening:.6,smoothness:.5,redness:.1,sharpness:.3},is_preview:!1}},beforeCreate(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:"url('"+getApp().config.font_url+"')"})},created(){s("log","at pagesLive/live/live.nvue:327","------live created"),this.platform=uni.getSystemInfoSync().platform;let t=uni.getSystemInfoSync().statusBarHeight,i=t,o=uni.getSystemInfoSync().windowHeight,l=uni.getSystemInfoSync().windowWidth;this.statusBarH=`${t}px`,this.statusBarHs=`${t}`,this.headerBarH=`${i}px`,this.winHeight=`${o}px`,this.winWidth=`${l}px`,s("log","at pagesLive/live/live.nvue:338","winHeight\uFF1A"+this.winHeight)},onLoad(t){uni.setKeepScreenOn({keepScreenOn:!0});let i=ie.getSceneData(t);this.roomId=t.roomId?t.roomId:i.rid,this.role=t.sence=="create"?"broadcaster":"audience"},onReady(){},onUnload:function(){},onShow(){},onShareAppMessage(){let t=this,i=t.getRequest().getShareUrlParams({roomId:t.roomId,sence:"audience"});return{title:t.roomDetail.name,path:"/pagesLive/live/live?"+i,imageUrl:t.roomDetail.shareFilePath}},mounted(){let t=this;s("log","at pagesLive/live/live.nvue:379","-------agora-sdk---------------"+uni.getSystemInfoSync().platform),t.platform==="android"?(q("android.permission.RECORD_AUDIO"),q("android.permission.CAMERA"),t.agoraView=t.$refs.agoraView,t.agoraRtm=t.$refs.agoraRtm):t.platform==="ios"&&(t.agoraView=ee,t.agoraRtm=W,s("log","at pagesLive/live/live.nvue:390",W)),t.uid=getApp().getUserId(),this.getRoomInfo()},methods:{getRequest(){return getApp().globalData.vueObj},getRoomInfo(){let t=this;uni.showLoading({title:"\u6B63\u5728\u8FDB\u5165"}),t.getRequest()._post("plus/live/room/detail",{roomId:t.roomId},function(i){s("log","at pagesLive/live/live.nvue:417","\u83B7\u53D6\u623F\u95F4"),uni.hideLoading(),t.loading=!1,t.roomDetail=i.data.detail,t.giftName=i.data.giftName,t.hasFollow=i.data.isFollow,t.digg_num=i.data.detail.diggNum,t.countdownConfig.endstamp=t.roomDetail.startTimeStamp,t.user=i.data.user,t.isCaster=i.data.isCaster,t.isCaster?t.view_uid=0:t.view_uid=i.data.detail.userId,t.liveRoomStart(t.roomDetail,t.user)})},liveRoomStart(t,i){s("log","at pagesLive/live/live.nvue:437","--------------liveRoomStart-----------------");let o=this;if(o.roomDetail=t,o.userInfo=i,o.channel="channel_"+t.shopSupplierId,o.liveChannelId="channel_"+t.shopSupplierId,o.isCaster){let l=uni.getStorageSync("whiteness");l&&(o.whiteness=l);let r=uni.getStorageSync("beauty");r&&(o.beauty=r),s("log","at pagesLive/live/live.nvue:452","--------whiteness,beauty-----------",uni.getStorageSync("whiteness"))}else s("log","at pagesLive/live/live.nvue:455","\u89C2\u4F17\u8FDB\u5165");o.loginRoom()},loginRoom(){let t=this;uni.showLoading({title:"\u6B63\u5728\u8FDB\u5165"}),s("log","at pagesLive/live/live.nvue:464","loginRoom"),t.getRequest()._get("plus/live/agora/api/login",{roomId:t.roomDetail.roomId,channel:t.channel,isCaster:t.isCaster},function(i){if(s("log","at pagesLive/live/live.nvue:472","\u8FDB\u5165\u623F\u95F4"),s("log","at pagesLive/live/live.nvue:473",i),t.appId=i.data.appId,t.agoraAppId=i.data.appId,t.token=i.data.rtcToken,s("log","at pagesLive/live/live.nvue:477","-----rtcToken-----",t.token),t.nickName=i.data.user.nickName,t.roomDetail.liveStatus==0){getApp().showError("\u76F4\u64AD\u5BA1\u6838\u4E2D",function(){uni.navigateBack()});return}if(t.isCaster){if(s("log","at pagesLive/live/live.nvue:487",t.uid),s("log","at pagesLive/live/live.nvue:488","----------// \u5224\u65AD\u662F\u5426\u662F\u4E3B\u64AD-----------"),t.uid!=t.roomDetail.userId){getApp().showError("\u4F60\u4E0D\u662F\u6B64\u623F\u95F4\u4E3B\u64AD",function(){uni.navigateBack()});return}}else if(t.roomDetail.liveStatus==102){getApp().showError("\u76F4\u64AD\u672A\u5F00\u59CB",function(){uni.navigateBack()});return}if(t.roomDetail.liveStatus==103||t.roomDetail.liveStatus==107){getApp().showError("\u76F4\u64AD\u5DF2\u7ED3\u675F",function(){uni.navigateBack()});return}t.initRoom(),t.agoraView.create({appid:t.agoraAppId},o=>{t.engine_load=!0,t.showLike=!0,s("log","at pagesLive/live/live.nvue:518","create111222---------"),t.isCaster?(t.is_preview=!0,t.startPreview(),t.roomDetail.liveStatus==102?t.startPreview():t.openLive()):t.enterRoom(),t.addRtcListeners()})})},closePreview(){uni.navigateBack()},switchCamera(){s("log","at pagesLive/live/live.nvue:546","--------------------\u5207\u6362-------------------"),this.agoraView.switchCamera(i=>{s("log","at pagesLive/live/live.nvue:549","--------------------switchCamera-------------------")})},setBeautyOptions(t){if(s("log","at pagesLive/live/live.nvue:554","setBeautyOptions"+t),t=="set"){let i=uni.getStorageSync("lightening");i?this.beautyOptions.lightening=i:uni.setStorageSync("smoothness",this.beautyOptions.lightening);let o=uni.getStorageSync("smoothness");o?this.beautyOptions.smoothness=o:uni.setStorageSync("smoothness",this.beautyOptions.smoothness);let l=uni.getStorageSync("redness");l?this.beautyOptions.redness=l:uni.setStorageSync("redness",this.beautyOptions.redness);let r=uni.getStorageSync("sharpness");r?this.beautyOptions.sharpness=r:uni.setStorageSync("sharpness",this.beautyOptions.sharpness)}else this.beautyOptions.lightening=.6,uni.setStorageSync("lightening",this.beautyOptions.lightening),this.beautyOptions.smoothness=.5,uni.setStorageSync("smoothness",this.beautyOptions.smoothness),this.beautyOptions.redness=.1,uni.setStorageSync("redness",this.beautyOptions.redness),this.beautyOptions.sharpness=.3,uni.setStorageSync("sharpness",this.beautyOptions.sharpness);s("log","at pagesLive/live/live.nvue:591",this.beautyOptions),this.agoraView.setBeautyEffectOptions(this.beautyOptions)},setDefinition(t){s("log","at pagesLive/live/live.nvue:595","setDefinition="+t);let i=this;uni.setStorageSync("vd",t),i.agoraView.setVideoEncoderConfiguration({vd:t},o=>{s("log","at pagesLive/live/live.nvue:602","setVideoEncoderConfiguration")})},startPreview(){let t=this;t.agoraView.enableVideo(o=>{}),t.platform=="android"&&t.agoraView.setupLocalVideo({channelName:t.liveChannelId,uid:t.uid},o=>{s("log","at pagesLive/live/live.nvue:615","setupLocalVideo")}),t.setBeautyOptions();let i=uni.getStorageSync("vd");i||(i=0),t.setDefinition(i),t.agoraView.startPreview(o=>{s("log","at pagesLive/live/live.nvue:627","--------------------startPreview-------------------")})},rtmLogin(){let t=this,i=t.agoraRtm;i.createInstance({appid:t.agoraAppId},o=>{s("log","at pagesLive/live/live.nvue:638","-------------rtmLogin createInstance1--------")}),t.addRtmListeners(),t.getRequest()._get("plus/live/agora/api/rtmToken",{roomId:t.roomDetail.roomId},function(o){s("log","at pagesLive/live/live.nvue:647","-------------rtmToken--------",o.data),s("log","at pagesLive/live/live.nvue:648",o.data),i.login({token:o.data,uid:""+t.uid})},o=>{s("log","at pagesLive/live/live.nvue:655",o)})},addRtmListeners(){let t=this;t.platform==="ios"&&v.addEventListener(k+"ConnectionStateChanged",function(i){i.data[0]==3&&i.data[1]==2&&t.onLoginSuccess()}),v.addEventListener(k+"MessageReceived",function(i){t.showMsg(i.data[0])}),v.addEventListener(k+"LoginSuccess",function(i){s("log","at pagesLive/live/live.nvue:672","RTM LoginSuccess"),t.onLoginSuccess()}),v.addEventListener(k+"LoginFailure",function(i){t.onLoginFailure(i)}),v.addEventListener(k+"LogoutSuccess",function(i){t.onLogoutSuccess(i)}),v.addEventListener(k+"LogoutFailure",function(i){t.onLogoutFailure(i)}),v.addEventListener(k+"ChannelMessageReceived",function(i){t.onChannelMessageReceived(i)}),v.addEventListener(k+"JoinSuccess",function(i){t.onJoinSuccess(i)}),v.addEventListener(k+"JoinFailure",function(i){t.onJoinFailure(i)})},synRoomInfo(t){let i=this;i.getRequest()._post("plus/live/room/synRoom",{roomId:i.roomDetail.roomId},function(o){s("log","at pagesLive/live/live.nvue:702","--------data\u6570\u636E-----",o.data);let l={type:"views",views:o.data.model.views,digg_num:o.data.model.digg_num};i.sendMsg(l)})},addRtcListeners(){let t=this;v.addEventListener(R+"JoinChannelSuccess",function(i){t.onJoinChannelSuccess(i)}),v.addEventListener(R+"LeaveChannel",function(i){t.onLeaveChannel(i)}),v.addEventListener(R+"RemoteVideoStateChanged",function(i){t.onRemoteVideoStateChanged(i)}),v.addEventListener(R+"UserJoined",function(i){t.onUserJoined(i)}),v.addEventListener(R+"UserOffline",function(i){t.onUserOffline(i)})},enterRoom(){let t=this;t.agoraView.setChannelProfile(1,i=>{}),t.agoraView.setClientRole(2,i=>{}),t.agoraView.enableAudio(i=>{}),t.agoraView.enableVideo(i=>{}),s("log","at pagesLive/live/live.nvue:738","-------------------- enterRoom1-------------------"),t.platform=="android"&&t.agoraView.setupRemoteVideo({channelName:t.liveChannelId,uid:t.view_uid},i=>{}),t.agoraView.joinChannel({token:t.token,channelName:t.liveChannelId,uid:t.uid},i=>{s("log","at pagesLive/live/live.nvue:754","--------------------joinChannel enterRoom token-------------------",t.token)},i=>{s("log","at pagesLive/live/live.nvue:757","--------------------joinChannel enterRoom-------------------")})},openLive(){let t=this,i=t.agoraView;t.is_preview&&(t.is_preview=!1,i.stopPreview(o=>{s("log","at pagesLive/live/live.nvue:768","--------------------stopPreview-------------------"),s("log","at pagesLive/live/live.nvue:769",o)})),i.setChannelProfile(1,o=>{}),i.setClientRole(1,o=>{}),i.enableAudio(o=>{}),i.enableVideo(o=>{}),t.platform=="android"&&i.setupLocalVideo({channelName:t.liveChannelId,uid:t.uid},o=>{s("log","at pagesLive/live/live.nvue:783","setupLocalVideo"),s("log","at pagesLive/live/live.nvue:784",o)}),i.joinChannel({token:t.token,channelName:t.liveChannelId,uid:t.uid},o=>{s("log","at pagesLive/live/live.nvue:794","--------------------joinChannel token-------------------",t.token),s("log","at pagesLive/live/live.nvue:795",o)})},initRoom(){this.getGift(),this.initemoji()},showProduct(t){let i=this;i.explainProductId=t,i.getRequest()._post("plus/live/room/productDetail",{productId:i.explainProductId},function(o){i.explain_product=o.data})},initProduct(){this.roomDetail.currentProduct&&(this.explain_product={productImage:this.roomDetail.currentProduct.productImage,productPrice:this.roomDetail.currentProduct.productPrice,productId:this.roomDetail.currentProduct.productId})},gotoProduct(t){let i=`/pagesProduct/product/detail/detail?productId=${this.explain_product.productId}&roomId=${this.roomId}`;this.getAppId()=="10040"&&(i=`/pagesProduct/guccl/product-detail/product-detail?productId=${this.explain_product.productId}&roomId=${this.roomId}`),this.gotoPage(i)},handleSlider(t){let i=t.detail.current;this.videoIndex>=0&&(this.videoContextList[this.videoIndex].pause(),this.videoContextList[this.videoIndex].seek(0)),i===this.videoIndex+1?this.videoContextList[this.videoIndex+1].play():i===this.videoIndex-1&&this.videoContextList[this.videoIndex-1].play(),this.videoIndex=i},play(t){this.videoContextList[t].play()},pause(t){this.videoContextList[t].pause()},handleAttention(t){let i=this.vlist;i[t].attention=!i[t].attention,this.vlist=i},handleLiveCart(){this.$refs.liveCart.show()},handleLiveGift(){this.$refs.liveGift.show()},closeLive(){s("log","at pagesLive/live/live.nvue:866","------112233--------");let t=this;t.isCaster?uni.showModal({title:"\u63D0\u793A",content:"\u786E\u5B9A\u8981\u7ED3\u675F\u5F53\u524D\u76F4\u64AD\u5417?",success:function(i){i.confirm&&(t.getRequest()._post("plus/live/agora/api/recordStop",{roomId:t.roomId},function(o){s("log","at pagesLive/live/live.nvue:881","-------\u7ED3\u675F\u5F55\u5236---------")}),t.getRequest()._post("plus/live/room/setStatus",{roomId:t.roomId,status:103},function(o){s("log","at pagesLive/live/live.nvue:892","---setStatus1111222333----",o.data),t.leaveChannel("auto")})),s("log","at pagesLive/live/live.nvue:897","-----\u5931\u8D25----")}}):(s("log","at pagesLive/live/live.nvue:901","------3332221111--------"),t.leaveChannel("auto"))},handleRollMsg(){this.$refs.liveMsg.show()},leaveChannel(t){let i=this;s("log","at pagesLive/live/live.nvue:910","leaveChannel"),clearInterval(i.intervalTime),i.platform=="android"&&(i.agoraRtm.leave(),i.agoraRtm.release({channelId:i.liveChannelId})),i.agoraView.leaveChannel(r=>{s("log","at pagesLive/live/live.nvue:920","leaveChannel success"),i.agoraView.destroy()});let o=i.isCaster?"1":"0",l="/pagesLive/live/live-over?roomId="+i.roomId+"&isCaster="+o;s("log","at pagesLive/live/live.nvue:925","url:"+l),i.isCaster?uni.redirectTo({url:l}):t=="auto"?uni.navigateBack():uni.redirectTo({url:l})},sendChannelMsg(t){let i={type:"text",msg:t,registerLevel:this.registerLevel,nickName:this.nickName};this.sendMsg(i),s("log","at pagesLive/live/live.nvue:948","e",t)},closeMsg(t){let i=this,o={type:"text",msg:t,nickName:i.user.nickName};i.sendMsg(JSON.stringify(o))},removeComment(){let t=this,i=t.commentsList.length-t.maxCommentSize;if(i>0)for(let o=0;o<i;o++)t.commentsList.shift();t.$nextTick(function(){t.toMsg="comment"+(t.commentsList.length-1)})},getGift(){let t=this;s("log","at pagesLive/live/live.nvue:1012","getGift:start!!!!!!!!!!!!!!!!"),t.getRequest()._get("plus/live/room/gift",{},function(i){let o=[],l=[],r=0;for(let n=0;n<i.data.records.length;n++)r++,l.push(i.data.records[n]),r>=8&&(o.push(l),l=[],r=0);l.length>0&&o.push(l),t.giftList=o,s("log","at pagesLive/live/live.nvue:1030",t.giftList)})},openPlan(){this.$refs.livePlan.show()},closePlan(){this.$refs.liveGift.show()},openOrder(){this.$refs.liveOrder.show()},closeOrder(){this.$refs.liveCart.show()},setProduct(t){s("log","at pagesLive/live/live.nvue:1047","explainProduct"),s("log","at pagesLive/live/live.nvue:1048",t),t==null?(this.isExplain=!1,this.explain={}):(this.isExplain=!0,this.explain=t);let i={type:"explain",explain:this.explain,isExplain:this.isExplain};this.sendMsg(i)},sendMsg(t){let i=this,o=i.agoraRtm,l=JSON.stringify(t);s("log","at pagesLive/live/live.nvue:1068","\u53D1\u9001-------",typeof o.sendMessage=="function"),o.sendMessage({message:l},r=>{s("log","at pagesLive/live/live.nvue:1073","\u6D88\u606F\u53D1\u9001\u6210\u529F",r),i.showMsg(l)})},digg(){if(s("log","at pagesLive/live/live.nvue:1079","\u70B9\u51FB\u5C4F\u5E55"),this.isCaster)return;let t=this;t.$refs.likes.handleClick(),s("log","at pagesLive/live/live.nvue:1085","----------digg---------------"),getApp()._post("plus/live/room/digg",{roomId:t.roomId,num:1},function(i){s("log","at pagesLive/live/live.nvue:1092","----------digg---------------"),s("log","at pagesLive/live/live.nvue:1093",i);let l={type:"digg",digg_num:i.data};t.sendMsg(l)})},showMsg(t){s("log","at pagesLive/live/live.nvue:1104",t);let i=this,o=JSON.parse(t);if(s("log","at pagesLive/live/live.nvue:1107",o,"------dmshuju------"),o.type=="text"||o.type=="buy"||o.type=="join"||o.type=="enter")i.commentsList.push(o),i.removeComment();else if(o.type=="digg")i.digg_num=o.digg_num;else if(o.type=="banSay"&&i.uid==o.userId){i.isbanSay=!0,uni.showToast({title:"\u60A8\u5DF2\u88AB\u7981\u8A00",icon:"none"});return}else if(o.type=="gift_num")i.roomDetail.giftNum=o.msg;else if(o.type=="gift")i.giftInfo={nickName:o.nickName,avatarUrl:o.avatarUrl,giftName:i.getGiftName(o.msg),giftImage:i.getGiftImage(o.msg)},setTimeout(function(){i.giftInfo={nickName:""}},5e3);else if(o.type=="kickPerson"&&i.uid==o.userId)uni.showToast({title:"\u60A8\u5DF2\u88AB\u8E22\u51FA\u76F4\u64AD\u95F4",icon:"none"}),i.closeLive();else if(o.type=="openSay"&&i.uid==o.userId){uni.showToast({title:"\u60A8\u5DF2\u88AB\u53D6\u6D88\u7981\u8A00",icon:"none"}),i.isbanSay=!1;return}else o.type=="openPerson"&&i.uid==o.userId?uni.showToast({title:"\u60A8\u5DF2\u88AB\u53D6\u6D88\u8E22\u51FA\u76F4\u64AD\u95F4",icon:"none"}):o.type=="explain"&&(this.explain=o.explain,this.isExplain=o.isExplain,this.showProduct(o.explain),this.showLike=!1,this.showLike=!0)},followFunc(){let t=this;t.getRequest()._postBody("user/favorite/add",{shopSupplierId:t.roomDetail.shopSupplierId,pid:t.roomDetail.shopSupplierId,type:10},function(i){t.hasFollow=!t.hasFollow})},openAnchor(){this.$refs.liveAnchor.show()},changeFollow(t){this.hasFollow=t},openMore(){this.$refs.liveMore.show()},openShare(t){let i=this;i.appParams.title=i.roomDetail.name,i.appParams.summary=i.roomDetail.name;let o=i.getRequest().getShareUrlParams({roomId:i.roomId,sence:"audience"});i.appParams.path="/pagesLive/live/live?"+o,i.appParams.image=i.roomDetail.shareFilePath,i.$refs.appShare.show()},liveSet(t){},openRank(){this.$refs.liveRank.show()},sendGift(t){let i=this,o=t.split(","),l={type:"gift",msg:o[0],nickName:i.user.nickName,avatarUrl:i.user.avatarUrl};i.sendMsg(l);let r={type:"gift_num",msg:o[1]};i.sendMsg(r)},getGiftName(t){let i="";for(let o in this.giftList)for(let l=0;l<this.giftList[o].length;l++){let r=this.giftList[o][l];if(parseInt(t)===r.giftId){i=r.giftName;break}}return i},getGiftImage(t){let i="";for(let o in this.giftList)for(let l=0;l<this.giftList[o].length;l++){let r=this.giftList[o][l];if(parseInt(t)===r.giftId){i=r.filePath;break}}return i},livePoster(){let t=this;uni.showLoading({title:"\u52A0\u8F7D\u4E2D"});let i="wx";t.getRequest()._get("plus/live/Room/poster",{roomId:t.roomId,source:i},o=>{t.qrcode=o.data.qrcode,s("log","at pagesLive/live/live.nvue:1276",t.qrcode)},null,()=>{uni.hideLoading()})},closeShare(){this.qrcode=null},initemoji(){let t=Math.ceil(T.length/21);for(let i=0;i<t;i++){this.emojiData[i]=[];for(let o=0;o<21;o++)T[i*21+o]&&this.emojiData[i].push(T[i*21+o])}s("log","at pagesLive/live/live.nvue:1297","initemoji:success")},goBack(){uni.redirectTo({url:"/pagesLive/live/index"})},onJoinChannelSuccess(t){let i=this;s("log","at pagesLive/live/live.nvue:1306","------------onJoinChannelSuccess---------------"),i.rtmLogin(),s("log","at pagesLive/live/live.nvue:1310","------------rtmLogin---------------"),s("log","at pagesLive/live/live.nvue:1311","------------setsatuss123---------------"),i.isCaster&&(getApp()._post("plus/live/room/setStatus",{roomId:i.roomId,status:101},function(o){s("log","at pagesLive/live/live.nvue:1321","setStatus222200000",o.data)},function(o){s("log","at pagesLive/live/live.nvue:1324","-------\u5931\u8D25-------")}),i.getRequest()._post("plus/live/agora/api/recordAcquire",{roomId:i.roomDetail.roomId},function(o){s("log","at pagesLive/live/live.nvue:1332","--------\u5F55\u52361-----------",i.roomDetail.roomId),s("log","at pagesLive/live/live.nvue:1333",o),i.getRequest()._post("plus/live/agora/api/recordStart",{roomId:i.roomDetail.roomId},function(l){s("log","at pagesLive/live/live.nvue:1339","--------\u5F55\u52362-----------"),setTimeout(function(){i.getRequest()._post("plus/live/agora/api/recordQuery",{roomId:i.roomDetail.roomId},function(r){s("log","at pagesLive/live/live.nvue:1346","--------\u5F55\u52363-----------"),s("log","at pagesLive/live/live.nvue:1347",r)})},1e4)})}))},onLeaveChannel(t){s("log","at pagesLive/live/live.nvue:1358","-------------onLeaveChannel---------------")},onRemoteVideoStateChanged(t){s("log","at pagesLive/live/live.nvue:1361","-------------onRemoteVideoStateChanged---------------")},onUserJoined(t){s("log","at pagesLive/live/live.nvue:1364","-------------onUserJoined---------------")},onUserOffline(t){s("log","at pagesLive/live/live.nvue:1368","-------------onUserOffline---------------"),this.leaveChannel("over")},onLoginSuccess(t){this.joinChannel()},joinChannel(){let t=this,i=t.agoraRtm;i.createChannel({channelId:t.liveChannelId},o=>{i.join(l=>{t.onJoinSuccess()}),s("log","at pagesLive/live/live.nvue:1384","-----------\u8C03\u7528createChannel\u65B9\u6CD5\u56DE\u8C03-----------")})},onLoginFailure(t){s("log","at pagesLive/live/live.nvue:1389","onLoginFailure"),s("log","at pagesLive/live/live.nvue:1390",t)},onLogoutSuccess(t){s("log","at pagesLive/live/live.nvue:1393","onLogoutSuccess"),s("log","at pagesLive/live/live.nvue:1394",t)},onLogoutFailure(t){s("log","at pagesLive/live/live.nvue:1397","onLogoutFailure"),s("log","at pagesLive/live/live.nvue:1398",t)},onJoinSuccess(t){let i=this,o={type:"join",msg:"",registerLevel:i.registerLevel,nickName:i.nickName};i.sendMsg(o),i.synRoomData(),i.intervalTime=setInterval(function(){i.synRoomData()},1e4)},onJoinFailure(t){s("log","at pagesLive/live/live.nvue:1416","onJoinFailure"),s("log","at pagesLive/live/live.nvue:1417",t)},onChannelMessageReceived(t){s("log","at pagesLive/live/live.nvue:1420","onChannelMessageReceived"),this.showMsg(t.detail.messageData)},changeVirtualBackground(t){var i=this;if(s("log","at pagesLive/live/live.nvue:1425","changeVirtualBackground e="+t),t==""){i.agoraView.enableVirtualBackground({enabled:!1},o=>{s("log","at pagesLive/live/live.nvue:1431","changeVirtualBackground cancel"),s("log","at pagesLive/live/live.nvue:1432",o)});return}uni.downloadFile({url:t,success:o=>{o.statusCode===200&&(s("log","at pagesLive/live/live.nvue:1441","\u4E0B\u8F7D\u6210\u529F"),i.agoraView.enableVirtualBackground({enabled:!0,source:plus.io.convertLocalFileSystemURL(o.tempFilePath),backgroundSourceType:2,color:16777215,blur_degree:1},l=>{s("log","at pagesLive/live/live.nvue:1450","changeVirtualBackground success"),s("log","at pagesLive/live/live.nvue:1451",l)}))}})},synRoomData(){let t=this,i=t.agoraRtm;i.getChannelMemberCount({channelIds:t.liveChannelId},o=>{}),i.getMembers(o=>{let l=[];t.userIds=[],t.platform==="android"?o.members.forEach((r,n)=>{n<=2&&l.push(r.userId),t.userIds.push(r.userId)}):t.platform==="ios"&&o.forEach((r,n)=>{n<=2&&l.push(r),t.userIds.push(r)}),getApp()._get("user.user/getUserInfo",{userId:l.join(",")},r=>{t.topUser=r.data.list})})}}};function kt(t,i,o,l,r,n){let a=(0,e.resolveComponent)("preview"),d=(0,e.resolveComponent)("button"),p=(0,e.resolveComponent)("share"),c=(0,e.resolveComponent)("Likes"),x=(0,e.resolveComponent)("live-cart"),h=(0,e.resolveComponent)("live-gift"),w=(0,e.resolveComponent)("live-msg"),S=(0,e.resolveComponent)("live-plan"),u=(0,e.resolveComponent)("live-order"),y=(0,e.resolveComponent)("live-anchor"),_=(0,e.resolveComponent)("live-more"),b=(0,e.resolveComponent)("live-share"),C=(0,e.resolveComponent)("live-rank"),I=(0,e.resolveComponent)("AppShare"),L=(0,e.resolveComponent)("AgoraView"),m=(0,e.resolveComponent)("Agora-RTC-SurfaceView"),D=(0,e.resolveComponent)("AgoraRtm");return(0,e.openBlock)(),(0,e.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,e.createElementVNode)("div",{class:"nlv__container",style:(0,e.normalizeStyle)("height:"+r.winHeight+" ;")},[(0,e.createVNode)(a,{isShow:r.is_preview,onSwitchCamera:n.switchCamera,onSetBeautyOptions:n.setBeautyOptions,onChangeVirtualBackground:n.changeVirtualBackground,onSetDefinition:n.setDefinition,onOpenLive:n.openLive,onClose:n.closePreview},null,8,["isShow","onSwitchCamera","onSetBeautyOptions","onChangeVirtualBackground","onSetDefinition","onOpenLive","onClose"]),r.is_preview?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"nlv_main",style:(0,e.normalizeStyle)("height:"+r.winHeight+" ;")},[(0,e.createElementVNode)("view",{class:"nlv-playerbox"},[(0,e.createElementVNode)("view",{class:"nlv_topbar",style:(0,e.normalizeStyle)({"padding-top":r.statusBarH})},[(0,e.createElementVNode)("view",{class:"topbar-info"},[(0,e.createElementVNode)("view",{class:"avator-box"},[(0,e.createElementVNode)("u-image",{class:"ta-avator",onClick:i[0]||(i[0]=(...g)=>n.openAnchor&&n.openAnchor(...g)),src:r.roomDetail.supplierLogoFilePath||r.roomDetail.user&&r.roomDetail.user.avatarUrl||"",mode:"aspectFill"},null,8,["src"]),(0,e.createElementVNode)("view",{class:"tabox"},[(0,e.createElementVNode)("u-text",{class:"ta-name"},(0,e.toDisplayString)(r.roomDetail.supplierName),1),(0,e.createElementVNode)("u-text",{class:"ta-num"},(0,e.toDisplayString)(r.roomDetail.viewNum)+"\u89C2\u770B",1)]),r.isCaster?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:0,class:(0,e.normalizeClass)(["ta-gz",r.hasFollow?"ta-gz-on":""]),onClick:i[1]||(i[1]=g=>n.followFunc())},(0,e.toDisplayString)(r.hasFollow?"\u5DF2\u5173\u6CE8":"\u5173\u6CE8"),3))])]),(0,e.createElementVNode)("view",{class:"topbar-right"},[(0,e.createElementVNode)("view",{class:"",onClick:i[2]||(i[2]=(0,e.withModifiers)((...g)=>n.closeLive&&n.closeLive(...g),["stop"]))},[(0,e.createElementVNode)("u-image",{class:"close-btn",src:"https://cdn.xmdzsw.com/image/newSaas/live/close.png",mode:""})])])],4),(0,e.createElementVNode)("view",{class:"nlv-rankbox",style:(0,e.normalizeStyle)("top: "+(r.statusBarHs*1+140)+"rpx;")},[(0,e.createElementVNode)("view",{class:"nlv-rkls",onClick:i[3]||(i[3]=(...g)=>n.openRank&&n.openRank(...g))},[(0,e.createElementVNode)("u-text",{class:"rkitem"},(0,e.toDisplayString)(r.giftName)+"\uFF1A"+(0,e.toDisplayString)(r.roomDetail.giftNum),1)]),(0,e.createElementVNode)("view",{class:"nlv-rkls"},[(0,e.createElementVNode)("u-text",{class:"rkitem ml30"},"\u4EBA\u6C14\u503C\uFF1A"+(0,e.toDisplayString)(t.digg_num),1)])],4),(0,e.createElementVNode)("view",{class:"nlv-footToolbar"},[(0,e.createElementVNode)("view",{class:"nlv-infobox"},[r.giftInfo.nickName!=""?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"nlv-giftTipPanel"},[(0,e.createElementVNode)("view",{class:"giftip-item"},[(0,e.createElementVNode)("u-image",{class:"gt-avator",src:r.giftInfo.avatarUrl,mode:"aspectFill"},null,8,["src"]),(0,e.createElementVNode)("view",{class:"gt-info"},[(0,e.createElementVNode)("u-text",{class:"gt-tit"},(0,e.toDisplayString)(r.giftInfo.nickName),1),(0,e.createElementVNode)("u-text",{class:"gt-subtit"},"\u9001\u4E3B\u64AD"+(0,e.toDisplayString)(r.giftInfo.giftName),1)]),(0,e.createElementVNode)("u-image",{class:"gt-gift",src:r.giftInfo.giftImage,mode:"aspectFill"},null,8,["src"])])])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("scroll-view",{class:"nlv-rollMsgPanel",scrollIntoView:r.toMsg,scrollY:"",showScrollbar:"false"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.commentsList,(g,V)=>((0,e.openBlock)(),(0,e.createElementBlock)("view",{class:"msg_bg",id:"comment"+V,key:V},[g.type=="text"?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"msg_text pr"},[(0,e.createElementVNode)("u-text",{class:"msg_txt"},(0,e.toDisplayString)(" "+g.nickName)+":"+(0,e.toDisplayString)(g.msg),1),(0,e.createElementVNode)("view",{class:"msg-text-name"},[(0,e.createElementVNode)("u-text",{class:"msg_name"},(0,e.toDisplayString)(" "+g.nickName)+":",1)])])):(0,e.createCommentVNode)("",!0),g.type=="enter"?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:1,class:"msg_text pr"},[(0,e.createElementVNode)("u-text",{class:"msg_txt"},(0,e.toDisplayString)(g.nickName)+"\u6765\u4E86",1)])):(0,e.createCommentVNode)("",!0),g.type=="join"?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:2,class:"msg_text pr"},[(0,e.createElementVNode)("u-text",{class:"msg_txt"},(0,e.toDisplayString)(" "+g.nickName)+"\u6765\u4E86",1),(0,e.createElementVNode)("view",{class:"msg-text-name"},[(0,e.createElementVNode)("u-text",{class:"msg_name"},(0,e.toDisplayString)(" "+g.nickName),1)])])):(0,e.createCommentVNode)("",!0)],8,["id"]))),128))],8,["scrollIntoView"]),(0,e.createElementVNode)("view",{class:"d-b-c f-d-i ww100",style:{width:"700rpx"}},[(0,e.createElementVNode)("view",{class:"nlv_reply d-b-c f-d-i",onClick:i[4]||(i[4]=(0,e.withModifiers)(g=>n.handleRollMsg(),["stop"]))},[(0,e.createElementVNode)("u-text",{class:"nlv_reply_text"},"\u8BF4\u70B9\u4EC0\u4E48..."),(0,e.createElementVNode)("u-text",{class:"icon iconfont icon-xiaolian"},"\uE75A")]),(0,e.createElementVNode)("view",{class:"nlv_btntool"},[(0,e.createVNode)(d,{class:"btn-toolitem",onClick:(0,e.withModifiers)(n.openShare,["stop"])},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("u-image",{class:"btn-icon-img",src:"https://cdn.xmdzsw.com/image/newSaas/live/fx.png",mode:""})]),_:1},8,["onClick"]),(0,e.createElementVNode)("view",{class:"btn-toolitem",onClick:i[5]||(i[5]=(0,e.withModifiers)(g=>n.handleLiveCart(),["stop"]))},[(0,e.createElementVNode)("u-image",{class:"btn-icon-img",src:"https://cdn.xmdzsw.com/image/newSaas/live/gwc.png",mode:""})]),r.isCaster?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"btn-toolitem",onClick:i[6]||(i[6]=(0,e.withModifiers)((...g)=>n.openMore&&n.openMore(...g),["stop"]))},[(0,e.createElementVNode)("u-image",{class:"btn-icon-img",src:"https://cdn.xmdzsw.com/image/newSaas/live/gd.png",mode:""})])):(0,e.createCommentVNode)("",!0),r.isCaster?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:1,class:"btn-toolitem",onClick:i[7]||(i[7]=(...g)=>n.handleLiveGift&&n.handleLiveGift(...g))},[(0,e.createElementVNode)("u-image",{class:"btn-icon-img",src:"https://cdn.xmdzsw.com/image/newSaas/live/ax.png",mode:""})]))])])])])]),r.explain_product!=null&&!r.is_replay?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"product",onClick:i[8]||(i[8]=(...g)=>n.gotoProduct&&n.gotoProduct(...g))},[(0,e.createElementVNode)("div",{class:"product-pic"},[(0,e.createElementVNode)("u-image",{src:r.explain_product.image[0].filePath,class:"product-img"},null,8,["src"])]),(0,e.createElementVNode)("div",{class:"product-price"},[(0,e.createElementVNode)("u-text",{class:"f24 rose"},"\uFFE5"),(0,e.createElementVNode)("u-text",{class:"rose f28"},(0,e.toDisplayString)(r.explain_product.productPrice),1)])])):(0,e.createCommentVNode)("",!0),r.qrcode!=null?((0,e.openBlock)(),(0,e.createBlock)(p,{key:1,winHeight:r.winHeight,qrcode:r.qrcode,onClose:n.closeShare},null,8,["winHeight","qrcode","onClose"])):(0,e.createCommentVNode)("",!0)],4)),r.engine_load&&t.showLike?((0,e.openBlock)(),(0,e.createBlock)(c,{key:1,ref:"likes"},null,512)):(0,e.createCommentVNode)("",!0),(0,e.createVNode)(x,{ref:"liveCart",isCaster:r.isCaster,shopSupplierId:r.roomDetail.shopSupplierId,roomId:r.roomId,onOpenOrder:n.openOrder,onSetProduct:n.setProduct},null,8,["isCaster","shopSupplierId","roomId","onOpenOrder","onSetProduct"]),(0,e.createVNode)(h,{ref:"liveGift",roomId:r.roomId,giftName:r.giftName,giftList:r.giftList,onOpenPlan:n.openPlan,onSendGift:n.sendGift},null,8,["roomId","giftName","giftList","onOpenPlan","onSendGift"]),(0,e.createVNode)(w,{ref:"liveMsg",emojiData:r.emojiData,onCloseMsg:n.sendChannelMsg},null,8,["emojiData","onCloseMsg"]),(0,e.createVNode)(S,{ref:"livePlan",onClosePlan:n.closePlan,giftName:r.giftName,roomId:r.roomId},null,8,["onClosePlan","giftName","roomId"]),(0,e.createVNode)(u,{ref:"liveOrder",shopSupplierId:r.roomDetail.shopSupplierId,roomId:r.roomId,onCloseOrder:n.closeOrder},null,8,["shopSupplierId","roomId","onCloseOrder"]),(0,e.createVNode)(y,{ref:"liveAnchor",roomId:r.roomId,shopSupplierId:r.roomDetail.shopSupplierId,onChangeFollow:n.changeFollow},null,8,["roomId","shopSupplierId","onChangeFollow"]),(0,e.createVNode)(_,{ref:"liveMore",onLiveSet:n.liveSet,onSwitchCamera:n.switchCamera},null,8,["onLiveSet","onSwitchCamera"]),(0,e.createVNode)(b,{ref:"liveShare",onLivePoster:n.livePoster},null,8,["onLivePoster"]),(0,e.createVNode)(C,{ref:"liveRank",roomId:r.roomId},null,8,["roomId"]),(0,e.createVNode)(I,{ref:"appShare",appParams:r.appParams},null,8,["appParams"]),r.platform=="android"?((0,e.openBlock)(),(0,e.createBlock)(L,{key:2,onClick:(0,e.withModifiers)(n.digg,["stop"]),ref:"agoraView",style:(0,e.normalizeStyle)("width:750rpx;height:"+r.winHeight),onOnJoinChannelSuccess:n.onJoinChannelSuccess,onOnLeaveChannel:n.onLeaveChannel,onOnRemoteVideoStateChanged:n.onRemoteVideoStateChanged,onOnUserJoined:n.onUserJoined,onOnUserOffline:n.onUserOffline},null,8,["onClick","style","onOnJoinChannelSuccess","onOnLeaveChannel","onOnRemoteVideoStateChanged","onOnUserJoined","onOnUserOffline"])):(0,e.createCommentVNode)("",!0),r.engine_load&&r.platform=="ios"?((0,e.openBlock)(),(0,e.createBlock)(m,{key:3,onClick:(0,e.withModifiers)(n.digg,["stop"]),style:(0,e.normalizeStyle)("width:750rpx;height:"+r.winHeight),zOrderMediaOverlay:r.zOrderMediaOverlay,zOrderOnTop:r.zOrderOnTop,renderMode:r.renderMode,data:{uid:r.view_uid,channelId:r.liveChannelId},mirrorMode:r.mirrorMode},null,8,["onClick","style","zOrderMediaOverlay","zOrderOnTop","renderMode","data","mirrorMode"])):(0,e.createCommentVNode)("",!0),r.platform=="android"?((0,e.openBlock)(),(0,e.createBlock)(D,{key:4,style:{width:"0px",height:"0px"},ref:"agoraRtm",onOnLoginSuccess:n.onLoginSuccess,onOnLoginFailure:n.onLoginFailure,onOnLogoutSuccess:n.onLogoutSuccess,onOnLogoutFailure:n.onLogoutFailure,onOnJoinSuccess:n.onJoinSuccess,onOnJoinFailure:n.onJoinFailure,onOnChannelMessageReceived:n.onChannelMessageReceived},null,8,["onOnLoginSuccess","onOnLoginFailure","onOnLogoutSuccess","onOnLogoutFailure","onOnJoinSuccess","onOnJoinFailure","onOnChannelMessageReceived"])):(0,e.createCommentVNode)("",!0)],4)])}var F=f(It,[["render",kt],["styles",[Ct]]]);var A=plus.webview.currentWebview();if(A){let t=parseInt(A.id),i="pagesLive/live/live",o={};try{o=JSON.parse(A.__query__)}catch(r){}F.mpType="page";let l=Vue.createPageApp(F,{$store:getApp({allowDefault:!0}).$store,__pageId:t,__pagePath:i,__pageQuery:o});l.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...F.styles||[]])),l.mount("#root")}})();
/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */
